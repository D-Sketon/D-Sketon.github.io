<!DOCTYPE html><html lang="zh-CN" data-theme-mode="auto"><head><meta charset="utf-8"><script async src="https://hm.baidu.com/hm.js?55ca897d064d6eb98df32d62c6984cc0"></script><script data-pjax>var _hmt=_hmt||[];_hmt.push(['_trackPageview',location.pathname]);</script><script>window.REIMU_CONFIG={},window.REIMU_CONFIG.icon_font='4552607_4k4bc36ef96',window.REIMU_CONFIG.clipboard_tips={success:{en:'Copy successfully (*^▽^*)','zh-CN':'复制成功 (*^▽^*)','zh-TW':'複製成功 (*^▽^*)',ja:'コピー成功 (*^▽^*)','pt-BR':'Copiado com sucesso (*^▽^*)'},fail:{en:'Copy failed (ﾟ⊿ﾟ)ﾂ','zh-CN':'复制失败 (ﾟ⊿ﾟ)ﾂ','zh-TW':'複製失敗 (ﾟ⊿ﾟ)ﾂ',ja:'コピー失敗 (ﾟ⊿ﾟ)ﾂ','pt-BR':'Falha ao copiar (ﾟ⊿ﾟ)ﾂ'},copyright:{enable:!1,count:50,license_type:'by-nc-sa'}},window.REIMU_CONFIG.clipboard_tips.copyright.content='本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！',window.REIMU_CONFIG.code_block={expand:!0},window.REIMU_CONFIG.base='https://d-sketon.github.io',window.REIMU_CONFIG.i18n_languages=['en'];</script><title> 不同版本Java对于Minecraft服务端spigot端的性能影响 | 拔剑Sketon </title><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="preload" as="style" href="https://fontsapi.zeoseven.com/292/main/result.css" onload="this.rel&#x3D;&#39;stylesheet&#39;" crossorigin><link rel="preload" href="//at.alicdn.com/t/c/font_4552607_4k4bc36ef96.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="/css/loader.css"><meta name="description" content="测试Java8和Java11下Hotspot和Openj9虚拟机对于Minecraft服务端spigot端的性能影响"><meta property="og:type" content="article"><meta property="og:title" content="不同版本Java对于Minecraft服务端spigot端的性能影响"><meta property="og:url" content="https://d-sketon.github.io/20220702/minecraft-server-comparison/index.html"><meta property="og:site_name" content="拔剑Sketon"><meta property="og:description" content="测试Java8和Java11下Hotspot和Openj9虚拟机对于Minecraft服务端spigot端的性能影响"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2022-07-02T02:48:31.000Z"><meta property="article:modified_time" content="2023-11-11T05:34:34.144Z"><meta property="article:author" content="D-Sketon"><meta property="article:tag" content="Minecraft"><meta property="article:tag" content="spigot"><meta name="twitter:card" content="summary"><link rel="alternate" href="/atom.xml" title="拔剑Sketon" type="application/atom+xml"><link rel="icon shortcut" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="preload" as="style" onload="this.onload&#x3D;null;this.rel&#x3D;&#39;stylesheet&#39;" href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css" integrity="sha384-IfxC36XL&#x2F;toUyJ939C73PcgMuRzAZuIzZxE38drsmO5p6jD7ei+Zx&#x2F;1oA&#x2F;0l8ysE" crossorigin><link rel="stylesheet" href="https://npm.webcache.cn/katex@0.16.22/dist/katex.min.css" integrity="sha384-5TcZemv2l&#x2F;9On385z&#x2F;&#x2F;&#x2F;+d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin><link rel="stylesheet" href="https://npm.webcache.cn/@waline/client@2.15.8/dist/waline.css" integrity="sha384-vltfZtesCdl6NYVcFVcjEaIi5RpNvZe9t7fXvq8twVtcoy+Ub9QgnxUYJmwOhYCK" crossorigin><link rel="stylesheet" href="https://npm.webcache.cn/@reimujs/aos@0.1.2/dist/aos.css" integrity="sha384-GMRP93c6Hkz9JVKGAuRR3nTS7M07RwPgTFenXiosjq2VbVgvdDNcz1g6Mkj8AONa" crossorigin><link rel="preload" as="style" onload="this.onload&#x3D;null;this.rel&#x3D;&#39;stylesheet&#39;" href="https://npm.webcache.cn/aplayer@1.10.1/dist/APlayer.min.css" integrity="sha384-tLMkTWh2pfXNWGFlUS0w1TFtRG5xZ9lPWFOooj+vDDLIL+xBGQU&#x2F;voDBY5XE2lVh" crossorigin><meta name="generator" content="Hexo 8.0.0"></head><body> <div id="loader"> <div class="loading-bg loading-left-bg"></div> <div class="loading-bg loading-right-bg"></div> <div class="spinner-box"> <div class="loading-taichi rotate"> <svg width="150" height="150" viewbox="0 0 1024 1024" class="icon" version="1.1" xmlns="https://www.w3.org/2000/svg" shape-rendering="geometricPrecision"> <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="var(--red-1, #ff5252)"></path> <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z 
           M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="var(--red-1, #ff5252)"></path> </svg> </div> <div class="loading-word">少女祈祷中...</div> </div> </div> <script>var time=null,startLoading=()=>{time=Date.now(),document.getElementById('loader').classList.remove('loading')},endLoading=()=>{time?500<Date.now()-time?(time=null,document.body.style.overflow='auto',document.getElementById('loader').classList.add('loading')):(setTimeout(endLoading,500-(Date.now()-time)),time=null):(document.body.style.overflow='auto',document.getElementById('loader').classList.add('loading'))};window.addEventListener('DOMContentLoaded',endLoading),document.getElementById('loader').addEventListener('click',endLoading);</script> <div id="copy-tooltip" style="pointer-events:none;opacity:0;transition:.2s;position:fixed;top:50%;left:50%;z-index:999;transform:translate(-50%,-50%);color:#fff;background:rgba(0,0,0,.5);padding:12px 16px;border-radius:8px"> </div> <div id="heatmap-tooltip"></div> <div id="container"> <div id="wrap"> <div id="header-nav"> <nav id="main-nav"> <span class="main-nav-link-wrap"> <div class="icon main-nav-icon rotate"> &#xe62b; </div> <a class="main-nav-link" href="/">首页</a> </span> <span class="main-nav-link-wrap"> <div class="icon main-nav-icon rotate"> &#xe62b; </div> <a class="main-nav-link" href="/archives">归档</a> </span> <span class="main-nav-link-wrap"> <div class="icon main-nav-icon rotate"> &#xe62b; </div> <a class="main-nav-link" href="/about">关于</a> </span> <span class="main-nav-link-wrap"> <div class="icon main-nav-icon rotate"> &#xe62b; </div> <a class="main-nav-link" href="/friend">友链</a> </span> <a id="main-nav-toggle" class="nav-icon"></a> </nav> <nav id="sub-nav"> <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅" target="_blank"></a> <a id="nav-search-btn" class="nav-icon popup-trigger" title="搜索"></a> </nav> <nav id="i18n-nav"> <div class="custom-dropdown"> <div class="select-selected" id="select-selected"> <span id="nav-language-btn" class="nav-icon" style="padding:0 20px 0 0"></span> <span id="selected-lang">简体中文</span> </div> <ul class="select-items" id="select-items"> <li data-value="zh-CN" class="selected">简体中文</li> <li data-value="en">English</li> </ul> </div> <script>var selectSelected=document.getElementById('select-selected'),selectedLang=document.getElementById('selected-lang'),selectItems=document.getElementById('select-items'),selectOptions=selectItems.querySelectorAll('li');selectSelected.addEventListener('click',()=>{selectItems.classList.toggle('show')}),selectOptions.forEach(item=>{item.addEventListener('click',()=>{var langMap={'zh-CN':'/20220702/minecraft-server-comparison/',en:'/en/20220702/minecraft-server-comparison/'};selectedLang.textContent=item.textContent,selectItems.classList.remove('show'),selectOptions.forEach(option=>{option.classList.remove('selected')}),item.classList.add('selected'),window.location=langMap[item.dataset.value]})}),document.addEventListener('click',event=>{event.target.closest('.custom-dropdown')||selectItems.classList.remove('show')});</script> </nav> </div> <header id="header"> <picture> <source media="(max-width: 479px)" srcset="/images/banner-600w.webp"> <source media="(max-width: 799px)" srcset="/images/banner-800w.webp"> <source media="(min-width: 800px)" srcset="/images/banner.webp"> <img fetchpriority="high" src="/images/banner.webp" alt="不同版本Java对于Minecraft服务端spigot端的性能影响"> </picture> <img alt="不同版本Java对于Minecraft服务端spigot端的性能影响" style="visibility:hidden"> <div id="header-outer"> <div id="header-title"> <span id="logo"> <h1 data-aos="slide-up">不同版本Java对于Minecraft服务端spigot端的性能影响</h1> </span> <h2 id="subtitle-wrap" data-aos="slide-down"> </h2> </div> </div> </header> <div id="content" class="sidebar-left"> <aside id="sidebar"> <div class="sidebar-wrapper-container sticky"> <meting-js theme="var(--color-link)" id="2265921590" server="netease" type="playlist" order="random" list-folded="true"></meting-js> <div class="sidebar-wrapper"> <div class="sidebar-wrap" data-aos="fade-up"> <div class="sidebar-toc-sidebar"><h3 class="toc-title">文章目录</h3> <div class="sidebar-toc-wrapper toc-div-class"> <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E6%8F%92%E4%BB%B6%E5%BC%80%E6%9C%8D%E6%B5%8B%E8%AF%95"><span class="toc-number">1.</span> <span class="toc-text"> 无插件开服测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu%E5%8D%A0%E7%94%A8%E7%8E%87"><span class="toc-number">1.1.</span> <span class="toc-text"> CPU占用率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text"> 内存占用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tps"><span class="toc-number">1.3.</span> <span class="toc-text"> TPS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#allocated-memory"><span class="toc-number">1.4.</span> <span class="toc-text"> Allocated memory</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%91%E5%9B%BE%E6%B5%8B%E8%AF%95"><span class="toc-number">2.</span> <span class="toc-text"> 跑图测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8-2"><span class="toc-number">2.1.</span> <span class="toc-text"> 内存占用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu%E5%8D%A0%E7%94%A8%E7%8E%87-2"><span class="toc-number">2.2.</span> <span class="toc-text"> CPU占用率</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%8F%92%E4%BB%B6%E5%BC%80%E6%9C%8D%E6%B5%8B%E8%AF%95"><span class="toc-number">3.</span> <span class="toc-text"> 多插件开服测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu%E5%8D%A0%E7%94%A8%E7%8E%87-3"><span class="toc-number">3.1.</span> <span class="toc-text"> CPU占用率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8-3"><span class="toc-number">3.2.</span> <span class="toc-text"> 内存占用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tps-2"><span class="toc-number">3.3.</span> <span class="toc-text"> TPS</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text"> 总结</span></a></li></ol> </div> </div> <div class="hidden sidebar-common-sidebar"><div class="sidebar-author"> <img data-src="/avatar/avatar.webp" data-sizes="auto" alt="D-Sketon" class="lazyload"> <div class="sidebar-author-name">D-Sketon</div> <div class="sidebar-description">D-Sketon&#39;s blog</div> </div> <div class="sidebar-state"> <div class="sidebar-state-article"> <div>文章</div> <div class="sidebar-state-number">72</div> </div> <div class="sidebar-state-category"> <div>分类</div> <div class="sidebar-state-number">10</div> </div> <div class="sidebar-state-tag"> <div>标签</div> <div class="sidebar-state-number">20</div> </div> </div> <div class="sidebar-social"> <div class="icon-github sidebar-social-icon"> <a href="https://github.com/D-Sketon" itemprop="url" target="_blank" aria-label="github" rel="external nofollow noopener noreferrer"></a> </div> <div class="icon-bilibili sidebar-social-icon"> <a href="https://space.bilibili.com/20339857" itemprop="url" target="_blank" aria-label="bilibili" rel="external nofollow noopener noreferrer"></a> </div> </div> <div class="sidebar-menu"> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/" aria-label="首页"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">首页</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/archives" aria-label="归档"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">归档</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/about" aria-label="关于"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">关于</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/friend" aria-label="友链"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">友链</div> </div> </div> </div> <div class="sidebar-btn-wrapper" style="position:static"> <div class="current sidebar-toc-btn"></div> <div class="sidebar-common-btn"></div> </div> </div> </div> <div class="sidebar-widget"> </div> </div> </aside> <section id="main"><article id="post-spigot端的性能影响" class="article article-type-post h-entry" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"> <div class="article-inner" data-aos="fade-up"> <div class="article-meta"> <div class="article-date"> <span class="article-date-link icon-calendar" data-aos="zoom-in"> <time datetime="2022-07-02T02:48:31.000Z" itemprop="datePublished">2022-07-02</time> <time style="display:none" id="post-update-time">2023-11-11</time> </span> </div> <div class="article-category"> <a class="article-category-link" href="/categories/%E8%AE%A1%E8%BD%AF%E6%9D%82%E8%B0%88/" data-aos="zoom-in">计软杂谈</a> </div> </div> <div class="hr-line"></div> <div class="article-entry e-content" itemprop="articleBody"> <p>众所周知，Bugjump在MC高版本下的优化稀烂，如此辣鸡的优化对于想要开服但手头上却只有1c2g或是2c4g渣机的服主来说是一个非常大的负担。<br> 对于spigot，paper等非原版端的优化MCBBS上已经有非常多的帖子，优化的方式基本上可以分为三类：</p> <ul> <li>修改bukkit.yml、spigot.yml和paper.yml等配置</li> <li>增加区块卸载和清理掉落物等优化插件</li> <li>修改Java启动参数和Java版本</li> </ul> <p>但实际上，修改配置文件产生的效果并不明显，且过分的修改参数会对游戏体验产生影响。而有关区块卸载、清理掉落物、生物限制等优化插件在高版本下可以说是几乎没有。<br> Java启动参数其实对于服务器来说非常重要，但网络上对于启动参数网上的说法众说纷纭。本人会在未来对不同的参数进行测试，敬请期待。<br> 本文通过三个测试来粗略地探究一下Java8和Java11下Hotspot和Openj9虚拟机对于Minecraft高版本服务端spigot端的性能影响<br> 本次测试采用的Minecraft版本为1.16.5，所以并不支持Java17<br> Spigot版本为3096a-Spigot-9fb885e-af1a232<br> Java启动参数采用最简单的设置方式，仅仅设置初始堆和最大堆的大小</p> <figure class="bash highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -Xmx2G -Xms1G -jar spigot-1.16.5.jar nogui</span><br></pre></td></tr></table></figure> <p>Java选用以下四个版本：</p> <ul> <li>Openj9 jre8</li> </ul> <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">openjdk version &quot;1.8.0_322&quot;</span><br><span class="line">IBM Semeru Runtime Open Edition (build 1.8.0_322-b06)</span><br><span class="line">Eclipse OpenJ9 VM (build openj9-0.30.0, JRE 1.8.0 Linux amd64-64-Bit Compressed References 20220128_306 (JIT enabled, AOT enabled)</span><br><span class="line">OpenJ9   - 9dccbe076</span><br><span class="line">OMR      - dac962a28</span><br><span class="line">JCL      - c1d9a7af7c based on jdk8u322-b06)</span><br></pre></td></tr></table></figure> <ul> <li>Hotspot jre8</li> </ul> <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openjdk version &quot;1.8.0_312&quot;</span><br><span class="line">OpenJDK Runtime Environment (build 1.8.0_312-8u312-b07-0ubuntu1~20.04-b07)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 25.312-b07, mixed mode)</span><br></pre></td></tr></table></figure> <ul> <li>Openj9 jre11</li> </ul> <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">openjdk version &quot;11.0.10&quot; 2021-01-19</span><br><span class="line">OpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)</span><br><span class="line">Eclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.24.0, JRE 11 Linux amd64-64-Bit 20210120_821 (JIT enabled, AOT enabled)</span><br><span class="line">OpenJ9   - 345e1b09e</span><br><span class="line">OMR      - 741e94ea8</span><br><span class="line">JCL      - 0a86953833 based on jdk-11.0.10+9</span><br></pre></td></tr></table></figure> <ul> <li>Hotspot jre11</li> </ul> <figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openjdk version &quot;11.0.15&quot; 2022-04-19</span><br><span class="line">OpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)</span><br><span class="line">OpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode</span><br></pre></td></tr></table></figure> <p>地图种子：1145141919810<br> 开服系统：Ubuntu20.04<br> 服务器配置：腾讯云2c4g6m<br> 测试分为三个部分：<strong>无插件开服测试</strong>，<strong>跑图测试</strong>和<strong>多插件开服测试</strong></p> <h2 id="无插件开服测试"><a class="markdownIt-Anchor" href="#无插件开服测试"></a> 无插件开服测试</h2> <p>说是无插件实际上还是存在一个插件：EssentialsX-2.19.0，该插件仅仅用于运行/gc命令获得tps和Allocated memory<br> 测试方法：在存档已经生成后使用四个不同的Java版本启动mc服务器，使用腾讯云监控面板获得CPU和内存占用情况，同时使用/gc命令获得tps和游戏内Allocated memory</p> <blockquote> <p>在测试的过程中不运行其他程序，此时腾讯云监控面板的数据可以近似为mc服务器独占</p> </blockquote> <h3 id="cpu占用率"><a class="markdownIt-Anchor" href="#cpu占用率"></a> CPU占用率</h3> <p> </p><div id="echarts6110" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts6110ResizeHandler) {
    window.removeEventListener("resize", eChartecharts6110ResizeHandler);
  }
  var optionecharts6110 = <br />
{<br />
title: {<br />
text: ‘CPU占用率’<br />
},<br />
tooltip: {<br />
trigger: ‘axis’<br />
},<br />
legend: {<br />
data: [‘Openj9 jre8’, ‘Hotspot jre8’, ‘Openj9 jre11’, ‘Hotspot jre11’]<br />
},<br />
grid: {<br />
left: ‘3%’,<br />
right: ‘4%’,<br />
bottom: ‘3%’,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: ‘category’,<br />
boundaryGap: false,<br />
data: [‘0s’, ‘10s’, ‘20s’, ‘30s’, ‘40s’, ‘50s’, ‘1min’,‘1min10s’,‘1min20s’,‘1min30s’,‘1min40s’,‘1min50s’,‘2min’,‘2min10s’,‘2min20s’,‘2min30s’,‘2min40s’,‘2min50s’,‘3min’,<br />
‘3min10s’,‘3min20s’,‘3min30s’,‘3min40s’,‘3min50s’,‘4min’,‘4min10s’,‘4min20s’,‘4min30s’,‘4min40s’,‘4min50s’,‘5min’]<br />
},<br />
yAxis: {<br />
type: ‘value’<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: ‘Openj9 jre8’,<br />
type: ‘line’,<br />
data: [0.9, 10.4, 95.4, 99.5, 99.9, 99.9, 99.9,99.9,99.8,99.7,99.8,99.8,77.6,70.1,66.8,71.1,65,49.1,11.1,10.5,8.6,8.7,9.1,7.8,12.2,9.2,14,8.4,10.4,9.9,9.5,7.9,10.8,7.6,10.7,9.8,8.4,9.7,8.4,48.5,27.2,7.9,9.4,9.9,11.6,10.,8.1,9.4,10,8.6,9,6.9,8.4]<br />
},<br />
{<br />
showSymbol: false,<br />
name: ‘Hotspot jre8’,<br />
type: ‘line’,<br />
data: [0.8,30.9,99.2,98.1,99.5,99.6,99.7,88.8,76,73.7,65.6,70,62.3,12.6,9.1,9.3,10.4,10.3,11.1,8.6,8.6,9.4,9.3,8.3,9.5,8.4,7.9,7.5,7.7,12,7.9,8,8,9.4,11.3]<br />
},<br />
{<br />
showSymbol: false,<br />
name: ‘Openj9 jre11’,<br />
type: ‘line’,<br />
data: [0.6,66.6,99.5,99.6,99.9,99.9,99.8,99.7,99.7,99.7,99.6,95.1,67.8,72.8,67.5,65.6,67.2,63.1,62.8,25.1,10.1,14.1,8.9,9.6,9.6,8.3,7.8,10.9,15.2,7.6,8.7,10.2,8.3,9.8,19.3]<br />
},<br />
{<br />
showSymbol: false,<br />
name: ‘Hotspot jre11’,<br />
type: ‘line’,<br />
data: [1.2,11.4,94.6,89.9,99.5,99.6,99.6,99.6,83.1,74.2,73.3,66,66.2,45,14,14.7,11.4,11.1,13,9.1,11.9,7.3,10,8.8,7.8,9.3,8.2,7.8,8.3,10.6,9.3,9.2,8.6,8.6,8.8,12.6]<br />
}<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts6110 = echarts.init(document.getElementById('echarts6110'));
    eChartecharts6110.setOption(optionecharts6110);
    var eChartecharts6110ResizeHandler = function() {
      eChartecharts6110.resize();
    };
    window.addEventListener("resize", eChartecharts6110ResizeHandler);
  }
</script> <p>非常明显，Hotspot相比于Openj9来说CPU占用率更低，这也反应在了开服时间上：Hotspot开服均在30-40s左右，而Openj9开服时间均在60s以上。<br> 横向对比Java8和Java11，在虚拟机相同的情况下两者差距并不明显，但还是可以看出11比8占用率要高一些。</p> <h3 id="内存占用"><a class="markdownIt-Anchor" href="#内存占用"></a> 内存占用</h3> <p> </p><div id="echarts2183" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts2183ResizeHandler) {
    window.removeEventListener("resize", eChartecharts2183ResizeHandler);
  }
  var optionecharts2183 = <br />
{<br />
title: {<br />
text: “内存占用”<br />
},<br />
tooltip: {<br />
trigger: “axis”<br />
},<br />
legend: {<br />
data: [“Openj9 jre8”, “Hotspot jre8”, “Openj9 jre11”, “Hotspot jre11”]<br />
},<br />
grid: {<br />
left: “3%”,<br />
right: “4%”,<br />
bottom: “3%”,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: “category”,<br />
boundaryGap: false,<br />
data: [<br />
“0s”,<br />
“10s”,<br />
“20s”,<br />
“30s”,<br />
“40s”,<br />
“50s”,<br />
“1min”,<br />
“1min10s”,<br />
“1min20s”,<br />
“1min30s”,<br />
“1min40s”,<br />
“1min50s”,<br />
“2min”,<br />
“2min10s”,<br />
“2min20s”,<br />
“2min30s”,<br />
“2min40s”,<br />
“2min50s”,<br />
“3min”,<br />
“3min10s”,<br />
“3min20s”,<br />
“3min30s”,<br />
“3min40s”,<br />
“3min50s”,<br />
“4min”,<br />
“4min10s”,<br />
“4min20s”,<br />
“4min30s”,<br />
“4min40s”,<br />
“4min50s”,<br />
“5min”<br />
]<br />
},<br />
yAxis: {<br />
type: “value”,<br />
scale:true<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre8”,<br />
type: “line”,<br />
data: [<br />
475,<br />
475,<br />
993,<br />
1190,<br />
1325,<br />
1465,<br />
1352,<br />
1358,<br />
1369,<br />
1441,<br />
1461,<br />
1465,<br />
1465,<br />
1454,<br />
1459,<br />
1469,<br />
1477,<br />
1470,<br />
1470,<br />
1470,<br />
1471,<br />
1469,<br />
1470,<br />
1469,<br />
1473,<br />
1470,<br />
1485,<br />
1470,<br />
1469,<br />
1478,<br />
1469,<br />
1470,<br />
1470,<br />
1469,<br />
1468,<br />
1468,<br />
1468,<br />
1469,<br />
1468,<br />
1496,<br />
1474,<br />
1473,<br />
1474,<br />
1474<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre8”,<br />
type: “line”,<br />
data: [<br />
474,<br />
529,<br />
1155,<br />
1469,<br />
1599,<br />
1596,<br />
1636,<br />
1680,<br />
1732,<br />
1723,<br />
1733,<br />
1751,<br />
1758,<br />
1763,<br />
1763,<br />
1763,<br />
1764,<br />
1764,<br />
1765,<br />
1765,<br />
1765,<br />
1765,<br />
1765,<br />
1766,<br />
1766,<br />
1766,<br />
1765,<br />
1766,<br />
1766,<br />
1766,<br />
1768,<br />
1768,<br />
1768,<br />
1768,<br />
1768,<br />
1768,<br />
1768,<br />
1769,<br />
1770,<br />
1771,<br />
1771,<br />
1770,<br />
1771,<br />
1770,<br />
1770,<br />
1770,<br />
1771,<br />
1771,<br />
1771,<br />
1771,<br />
1772<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre11”,<br />
type: “line”,<br />
data: [<br />
473,<br />
857,<br />
1253,<br />
1444,<br />
1470,<br />
1734,<br />
1496,<br />
1551,<br />
1610,<br />
1694,<br />
1666,<br />
1671,<br />
1659,<br />
1672,<br />
1653,<br />
1657,<br />
1665,<br />
1681,<br />
1678,<br />
1680,<br />
1680,<br />
1680,<br />
1680,<br />
1679,<br />
1679,<br />
1681,<br />
1681,<br />
1681,<br />
1726,<br />
1678,<br />
1677,<br />
1677,<br />
1677,<br />
1679,<br />
1677,<br />
1677,<br />
1678,<br />
1681,<br />
1683,<br />
1683,<br />
1684,<br />
1684,<br />
1684,<br />
1686,<br />
1684<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre11”,<br />
type: “line”,<br />
data: [<br />
474,<br />
474,<br />
811,<br />
1442,<br />
1688,<br />
1782,<br />
1916,<br />
1919,<br />
1951,<br />
1994,<br />
1995,<br />
1996,<br />
1999,<br />
2011,<br />
2012,<br />
2013,<br />
2012,<br />
2013,<br />
2013,<br />
2013,<br />
2014,<br />
2013,<br />
2013,<br />
2014,<br />
2014,<br />
2014,<br />
2015,<br />
2015,<br />
2013,<br />
2014,<br />
2014,<br />
2014,<br />
2014,<br />
2014,<br />
2015,<br />
2015,<br />
2019,<br />
2019,<br />
2021,<br />
2022,<br />
2022,<br />
2022,<br />
2022,<br />
2021,<br />
2022<br />
]<br />
}<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts2183 = echarts.init(document.getElementById('echarts2183'));
    eChartecharts2183.setOption(optionecharts2183);
    var eChartecharts2183ResizeHandler = function() {
      eChartecharts2183.resize();
    };
    window.addEventListener("resize", eChartecharts2183ResizeHandler);
  }
</script> <p>非常明显，Openj9在内存上完爆Hotspot，这也符合Openj9的定位：以牺牲一部分性能的前提下极大降低内存占用率。<br> 此外相同虚拟机下11内存占用率要比8要高出许多。</p> <h3 id="tps"><a class="markdownIt-Anchor" href="#tps"></a> TPS</h3> <p> </p><div id="echarts560" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts560ResizeHandler) {
    window.removeEventListener("resize", eChartecharts560ResizeHandler);
  }
  var optionecharts560 = <br />
{<br />
title: {<br />
text: “TPS”<br />
},<br />
tooltip: {<br />
trigger: “axis”<br />
},<br />
legend: {<br />
data: [“Openj9 jre8”, “Hotspot jre8”, “Openj9 jre11”, “Hotspot jre11”]<br />
},<br />
grid: {<br />
left: “3%”,<br />
right: “4%”,<br />
bottom: “3%”,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: “category”,<br />
boundaryGap: false,<br />
data: [<br />
“0s”,<br />
“5s”,<br />
“10s”,<br />
“15s”,<br />
“20s”,<br />
“25s”,<br />
“30s”,<br />
“35s”,<br />
“40s”,<br />
“45s”,<br />
“50s”,<br />
“55s”,<br />
“1min”,<br />
“1min5s”,<br />
“1min10s”,<br />
“1min15s”,<br />
“1min20s”,<br />
“1min25s”,<br />
“1min30s”,<br />
“1min35s”,<br />
“1min40s”,<br />
“1min45s”,<br />
“1min50s”,<br />
“1min55s”,<br />
“2min”,<br />
“2min5s”,<br />
“2min10s”,<br />
“2min15s”,<br />
“2min20s”,<br />
“2min25s”,<br />
“2min30s”,<br />
“2min35s”,<br />
“2min40s”,<br />
“2min45s”,<br />
“2min50s”,<br />
“2min55s”,<br />
“3min”,<br />
“3min5s”,<br />
“3min10s”,<br />
“3min15s”,<br />
“3min20s”,<br />
“3min25s”,<br />
“3min30s”,<br />
“3min35s”,<br />
“3min40s”,<br />
“3min45s”,<br />
“3min50s”,<br />
“3min55s”,<br />
“4min”]<br />
},<br />
yAxis: {<br />
type: “value”,<br />
scale:true<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre8”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,20,20,20,20,20,20,20,20,20,20,20,13.66,16.2,16.83,17.89,18.1,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre8”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,null,null,null,null,null,null,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,16.83,17.62,18.1,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre11”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,20,20,20,20,20,20,20,20,20,20,20,16.83,17.62,18.27,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre11”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,null,null,null,null,null,null,20,20,20,20,20,20,20,20,20,20,20,15.25,16.83,17.62,18.1,18.27,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20]<br />
},<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts560 = echarts.init(document.getElementById('echarts560'));
    eChartecharts560.setOption(optionecharts560);
    var eChartecharts560ResizeHandler = function() {
      eChartecharts560.resize();
    };
    window.addEventListener("resize", eChartecharts560ResizeHandler);
  }
</script> <p>对于TPS，四个不同版本均在开服初期发生了明显的下降，但都能以几乎相同的速度恢复。</p> <h3 id="allocated-memory"><a class="markdownIt-Anchor" href="#allocated-memory"></a> Allocated memory</h3> <p> </p><div id="echarts8520" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts8520ResizeHandler) {
    window.removeEventListener("resize", eChartecharts8520ResizeHandler);
  }
  var optionecharts8520 = <br />
{<br />
title: {<br />
text: “Allocated memory”<br />
},<br />
tooltip: {<br />
trigger: “axis”<br />
},<br />
legend: {<br />
data: [“Openj9 jre8”, “Hotspot jre8”, “Openj9 jre11”, “Hotspot jre11”]<br />
},<br />
grid: {<br />
left: “3%”,<br />
right: “4%”,<br />
bottom: “3%”,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: “category”,<br />
boundaryGap: false,<br />
data: [<br />
“0s”,<br />
“5s”,<br />
“10s”,<br />
“15s”,<br />
“20s”,<br />
“25s”,<br />
“30s”,<br />
“35s”,<br />
“40s”,<br />
“45s”,<br />
“50s”,<br />
“55s”,<br />
“1min”,<br />
“1min5s”,<br />
“1min10s”,<br />
“1min15s”,<br />
“1min20s”,<br />
“1min25s”,<br />
“1min30s”,<br />
“1min35s”,<br />
“1min40s”,<br />
“1min45s”,<br />
“1min50s”,<br />
“1min55s”,<br />
“2min”,<br />
“2min5s”,<br />
“2min10s”,<br />
“2min15s”,<br />
“2min20s”,<br />
“2min25s”,<br />
“2min30s”,<br />
“2min35s”,<br />
“2min40s”,<br />
“2min45s”,<br />
“2min50s”,<br />
“2min55s”,<br />
“3min”,<br />
“3min5s”,<br />
“3min10s”,<br />
“3min15s”,<br />
“3min20s”,<br />
“3min25s”,<br />
“3min30s”,<br />
“3min35s”,<br />
“3min40s”,<br />
“3min45s”,<br />
“3min50s”,<br />
“3min55s”,<br />
“4min”]<br />
},<br />
yAxis: {<br />
type: “value”,<br />
scale:true<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre8”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280,1280]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre8”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,null,null,null,null,null,null,1544,1572,1463,1599,1602,1642,1662,1670,1664,1664,1664,1664,1664,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667,1667]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre11”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1280,1280,1280,1280,1280,1280,1280,1280,1274,1274,1274,1274,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269,1269]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre11”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,null,null,null,null,null,null,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305,1305]<br />
},<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts8520 = echarts.init(document.getElementById('echarts8520'));
    eChartecharts8520.setOption(optionecharts8520);
    var eChartecharts8520ResizeHandler = function() {
      eChartecharts8520.resize();
    };
    window.addEventListener("resize", eChartecharts8520ResizeHandler);
  }
</script> <p>该数据来源于/gc指令之中，个人感觉该参数还是比较迷的，仅供参考。</p> <h2 id="跑图测试"><a class="markdownIt-Anchor" href="#跑图测试"></a> 跑图测试</h2> <p>测试方法：在开服5分钟后首先连续跑图2分钟（约2600格，创造飞行），接着挂机13分钟<br> 每次飞行方向均相同，测试完成后会将存档重置保证每次测试都会重新生成地形</p> <h3 id="内存占用-2"><a class="markdownIt-Anchor" href="#内存占用-2"></a> 内存占用</h3> <p> </p><div id="echarts9571" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts9571ResizeHandler) {
    window.removeEventListener("resize", eChartecharts9571ResizeHandler);
  }
  var optionecharts9571 = <br />
{<br />
title: {<br />
text: “内存占用”<br />
},<br />
tooltip: {<br />
trigger: “axis”<br />
},<br />
legend: {<br />
data: [“Openj9 jre8”, “Hotspot jre8”, “Openj9 jre11”, “Hotspot jre11”]<br />
},<br />
grid: {<br />
left: “3%”,<br />
right: “4%”,<br />
bottom: “3%”,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: “category”,<br />
boundaryGap: false,<br />
data: [‘0s’, ‘10s’, ‘20s’, ‘30s’, ‘40s’, ‘50s’, ‘1min’,‘1min10s’,‘1min20s’,‘1min30s’,‘1min40s’,‘1min50s’,‘2min’,‘2min10s’,‘2min20s’,‘2min30s’,‘2min40s’,‘2min50s’,‘3min’,<br />
‘3min10s’,‘3min20s’,‘3min30s’,‘3min40s’,‘3min50s’,‘4min’,‘4min10s’,‘4min20s’,‘4min30s’,‘4min40s’,‘4min50s’,‘5min’,‘5min10s’,‘5min20s’,‘5min30s’,‘5min40s’,‘5min50s’,‘6min’,‘6min10s’,‘6min20s’,‘6min30s’,‘6min40s’,‘6min50s’,‘7min’,‘7min10s’,‘7min20s’,‘7min30s’,‘7min40s’,‘7min50s’,‘8min’,‘8min10s’,‘8min20s’,‘8min30s’,‘8min40s’,‘8min50s’,‘9min’,‘9min10s’,‘9min20s’,‘9min30s’,‘9min40s’,‘9min50s’,‘10min’,‘10min10s’,‘10min20s’,‘10min30s’,‘10min40s’,‘10min50s’,‘11min’,‘11min10s’,‘11min20s’,‘11min30s’,‘11min40s’,‘11min50s’,‘12min’,‘12min10s’,‘12min20s’,‘12min30s’,‘12min40s’,‘12min50s’,‘13min’,‘13min10s’,‘13min20s’,‘13min30s’,‘13min40s’,‘13min50s’,‘14min’,‘14min10s’,‘14min20s’,‘14min30s’,‘14min40s’,‘14min50s’,‘15min’]<br />
},<br />
yAxis: {<br />
type: “value”,<br />
scale:true<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre8”,<br />
type: “line”,<br />
data: [<br />
1510,<br />
1529,<br />
1534,<br />
1536,<br />
1551,<br />
1561,<br />
1578,<br />
1571,<br />
1588,<br />
1599,<br />
1599,<br />
1605,<br />
1614,<br />
1612,<br />
1616,<br />
1618,<br />
1616,<br />
1629,<br />
1637,<br />
1640,<br />
1666,<br />
1662,<br />
1665,<br />
1666,<br />
1670,<br />
1668,<br />
1670,<br />
1676,<br />
1673,<br />
1681,<br />
1681,<br />
1682,<br />
1682,<br />
1683,<br />
1683,<br />
1679,<br />
1679,<br />
1680,<br />
1680,<br />
1679,<br />
1678,<br />
1678,<br />
1679,<br />
1679,<br />
1679,<br />
1679,<br />
1679,<br />
1679,<br />
1680,<br />
1682,<br />
1681,<br />
1682,<br />
1682,<br />
1681,<br />
1681,<br />
1681,<br />
1682,<br />
1682,<br />
1682,<br />
1682,<br />
1676,<br />
1675,<br />
1675,<br />
1675,<br />
1676,<br />
1676,<br />
1676,<br />
1676,<br />
1676,<br />
1676,<br />
1676,<br />
1676,<br />
1676,<br />
1676,<br />
1676,<br />
1677,<br />
1676,<br />
1675,<br />
1676,<br />
1677,<br />
1677,<br />
1677,<br />
1677,<br />
1677,<br />
1678,<br />
1677,<br />
1673,<br />
1673,<br />
1673,<br />
1673,<br />
1673,<br />
1673,<br />
1673,<br />
1673,<br />
1674,<br />
1674,<br />
1674,<br />
1674,<br />
1676,<br />
1675,<br />
1674,<br />
1675,<br />
1676,<br />
1675,<br />
1676,<br />
1676,<br />
1676,<br />
1675,<br />
1676 ]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre8”,<br />
type: “line”,<br />
data: [1726,<br />
1731,<br />
1758,<br />
1761,<br />
1768,<br />
1770,<br />
1785,<br />
1789,<br />
1805,<br />
1812,<br />
1827,<br />
1829,<br />
1829,<br />
1847,<br />
1845,<br />
1861,<br />
1862,<br />
1857,<br />
1856,<br />
1856,<br />
1856,<br />
1867,<br />
1866,<br />
1867,<br />
1870,<br />
1871,<br />
1872,<br />
1873,<br />
1876,<br />
1878,<br />
1883,<br />
1943,<br />
1955,<br />
1955,<br />
1955,<br />
1956,<br />
1960,<br />
1961,<br />
1968,<br />
1968,<br />
1973,<br />
1973,<br />
1982,<br />
1984,<br />
1991,<br />
1991,<br />
1998,<br />
1998,<br />
1991,<br />
1983,<br />
1984,<br />
1973,<br />
1971,<br />
1960,<br />
1960,<br />
1947,<br />
1946,<br />
1934,<br />
1920,<br />
1921,<br />
1908,<br />
1895,<br />
1896,<br />
1882,<br />
1868,<br />
1868,<br />
1855,<br />
1854,<br />
1841,<br />
1828,<br />
1828,<br />
1815,<br />
1803,<br />
1803,<br />
1791,<br />
1780,<br />
1779,<br />
1768,<br />
1758,<br />
1759,<br />
1749,<br />
1739,<br />
1738,<br />
1729,<br />
1720,<br />
1712,<br />
1712,<br />
1702,<br />
1695,<br />
1688,<br />
1688,<br />
1688,<br />
1681,<br />
1674,<br />
1668,<br />
1666,<br />
1665,<br />
1665,<br />
1666,<br />
1665,<br />
1665,<br />
1665,<br />
1665,<br />
1664<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre11”,<br />
type: “line”,<br />
data: [<br />
1701,<br />
1738,<br />
1726,<br />
1742,<br />
2050,<br />
2038,<br />
2278,<br />
1799,<br />
1793,<br />
1810,<br />
1808,<br />
1821,<br />
1825,<br />
1845,<br />
1852,<br />
1890,<br />
1906,<br />
1899,<br />
1897,<br />
1897,<br />
1898,<br />
1898,<br />
1898,<br />
1897,<br />
1898,<br />
1897,<br />
1897,<br />
1897,<br />
1900,<br />
1897,<br />
1897,<br />
1897,<br />
1897,<br />
1896,<br />
1897,<br />
1899,<br />
1897,<br />
1898,<br />
1897,<br />
1897,<br />
1898,<br />
1898,<br />
1897,<br />
1897,<br />
1896,<br />
1894,<br />
1894,<br />
1894,<br />
1895,<br />
1897,<br />
1896,<br />
1896,<br />
1895,<br />
1895,<br />
1895,<br />
1895,<br />
1895,<br />
1895,<br />
1895,<br />
1895,<br />
1895,<br />
1895,<br />
1888,<br />
1889,<br />
1889,<br />
1888,<br />
1888,<br />
1888,<br />
1888,<br />
1888,<br />
1888,<br />
1888,<br />
1889,<br />
1889,<br />
1889,<br />
1889,<br />
1889,<br />
1889,<br />
1889,<br />
1890,<br />
1884,<br />
1884,<br />
1884,<br />
1884,<br />
1884,<br />
1884,<br />
1884,<br />
1884,<br />
1884,<br />
1883,<br />
1882,<br />
1883,<br />
1883,<br />
1883,<br />
1883]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre11”,<br />
type: “line”,<br />
data: [2025,<br />
2041,<br />
2067,<br />
2064,<br />
2083,<br />
2086,<br />
2087,<br />
2087,<br />
2088,<br />
2088,<br />
2088,<br />
2088,<br />
2088,<br />
2089,<br />
2089,<br />
2096,<br />
2098,<br />
2098,<br />
2098,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2099,<br />
2099,<br />
2099,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2101,<br />
2101,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2102,<br />
2102,<br />
2102,<br />
2101,<br />
2101,<br />
2100,<br />
2101,<br />
2100,<br />
2100,<br />
2100,<br />
2101,<br />
2100,<br />
2101,<br />
2100,<br />
2100,<br />
2100,<br />
2100,<br />
2101,<br />
2102,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2101,<br />
2103,<br />
2103,<br />
2102,<br />
2103,<br />
2103,<br />
2102,<br />
2102,<br />
2102,<br />
2102,<br />
2103,<br />
2102,<br />
2102,<br />
2101,<br />
2102,<br />
2102,<br />
2102,<br />
2101,<br />
2102,<br />
2102,<br />
2103<br />
]<br />
},<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts9571 = echarts.init(document.getElementById('echarts9571'));
    eChartecharts9571.setOption(optionecharts9571);
    var eChartecharts9571ResizeHandler = function() {
      eChartecharts9571.resize();
    };
    window.addEventListener("resize", eChartecharts9571ResizeHandler);
  }
</script> <p>Openj9 jre11在这里发生了意外，在跑图1分钟时内存极速飙升，CPU也到了100%，服务器后台提示overload，个人认为这只是个别现象，但这也说明了Openj9可能出现的不稳定情况。<br> 跑图时的内存和静态测试唯一不同的是Hotspot jre8，在跑图完成后内存仍然上升，但到了2000M后触发了内存回收，内存下降至1680M以下，这甚至比开服初期的内存还要低。经过反复测试后确认了该现象并不是偶然。</p> <h3 id="cpu占用率-2"><a class="markdownIt-Anchor" href="#cpu占用率-2"></a> CPU占用率</h3> <p> </p><div id="echarts2701" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts2701ResizeHandler) {
    window.removeEventListener("resize", eChartecharts2701ResizeHandler);
  }
  var optionecharts2701 = <br />
{<br />
title: {<br />
text: “CPU占用率”<br />
},<br />
tooltip: {<br />
trigger: “axis”<br />
},<br />
legend: {<br />
data: [“Openj9 jre8”, “Hotspot jre8”, “Openj9 jre11”, “Hotspot jre11”]<br />
},<br />
grid: {<br />
left: “3%”,<br />
right: “4%”,<br />
bottom: “3%”,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: “category”,<br />
boundaryGap: false,<br />
data: [‘0s’, ‘10s’, ‘20s’, ‘30s’, ‘40s’, ‘50s’, ‘1min’,‘1min10s’,‘1min20s’,‘1min30s’,‘1min40s’,‘1min50s’,‘2min’,‘2min10s’,‘2min20s’,‘2min30s’,‘2min40s’,‘2min50s’,‘3min’,<br />
‘3min10s’,‘3min20s’,‘3min30s’,‘3min40s’,‘3min50s’,‘4min’,‘4min10s’,‘4min20s’,‘4min30s’,‘4min40s’,‘4min50s’,‘5min’,‘5min10s’,‘5min20s’,‘5min30s’,‘5min40s’,‘5min50s’,‘6min’,‘6min10s’,‘6min20s’,‘6min30s’,‘6min40s’,‘6min50s’,‘7min’,‘7min10s’,‘7min20s’,‘7min30s’,‘7min40s’,‘7min50s’,‘8min’,‘8min10s’,‘8min20s’,‘8min30s’,‘8min40s’,‘8min50s’,‘9min’,‘9min10s’,‘9min20s’,‘9min30s’,‘9min40s’,‘9min50s’,‘10min’,‘10min10s’,‘10min20s’,‘10min30s’,‘10min40s’,‘10min50s’,‘11min’,‘11min10s’,‘11min20s’,‘11min30s’,‘11min40s’,‘11min50s’,‘12min’,‘12min10s’,‘12min20s’,‘12min30s’,‘12min40s’,‘12min50s’,‘13min’,‘13min10s’,‘13min20s’,‘13min30s’,‘13min40s’,‘13min50s’,‘14min’,‘14min10s’,‘14min20s’,‘14min30s’,‘14min40s’,‘14min50s’,‘15min’]<br />
},<br />
yAxis: {<br />
type: “value”,<br />
scale:true<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre8”,<br />
type: “line”,<br />
data: [<br />
35.3,<br />
18.8,<br />
86.6,<br />
31.4,<br />
20.0,<br />
29.8,<br />
80.8,<br />
93.0,<br />
84.4,<br />
89.6,<br />
91.4,<br />
83.2,<br />
82.3,<br />
79.0,<br />
81.8,<br />
78.4,<br />
80.0,<br />
76.6,<br />
73.1,<br />
49.8,<br />
15.6,<br />
16.4,<br />
14.2,<br />
12.6,<br />
13.7,<br />
11.9,<br />
14.1,<br />
12.4,<br />
16.2,<br />
10.5,<br />
24.9,<br />
13.8,<br />
13.2,<br />
11.2,<br />
12.5,<br />
12.6,<br />
13.3,<br />
12.3,<br />
11.8,<br />
11.0,<br />
12.4,<br />
11.6,<br />
11.8,<br />
11.2,<br />
11.8,<br />
11.8,<br />
14.5,<br />
10.9,<br />
13.4,<br />
14.0,<br />
11.7,<br />
13.3,<br />
13.5,<br />
11.4,<br />
13.6,<br />
12.3,<br />
17.0,<br />
14.5,<br />
15.9,<br />
14.8,<br />
20.2,<br />
11.7,<br />
13.9,<br />
12.0,<br />
13.9,<br />
10.8,<br />
11.4,<br />
13.1,<br />
12.2,<br />
10.9,<br />
13.8,<br />
10.7,<br />
10.5,<br />
11.5,<br />
9.7,<br />
12.0,<br />
12.8,<br />
10.9,<br />
10.4,<br />
10.0,<br />
13.1,<br />
13.9,<br />
9.9,<br />
9.9,<br />
9.9,<br />
10.2,<br />
9.8,<br />
9.1,<br />
9.8,<br />
9.8,<br />
14.3,<br />
11.3,<br />
11.8,<br />
12.4,<br />
14.7,<br />
10.0<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre8”,<br />
type: “line”,<br />
data: [<br />
6.8,<br />
61.7,<br />
52.3,<br />
54.8,<br />
82.9,<br />
87.1,<br />
79.2,<br />
78.7,<br />
78.8,<br />
77.8,<br />
77.1,<br />
75.8,<br />
80.2,<br />
77.1,<br />
78.3,<br />
76.0,<br />
71.8,<br />
49.3,<br />
18.0,<br />
15.2,<br />
14.0,<br />
13.5,<br />
11.7,<br />
11.4,<br />
12.3,<br />
11.8,<br />
11.2,<br />
13.2,<br />
12.1,<br />
12.8,<br />
12.4,<br />
12.5,<br />
11.6,<br />
12.2,<br />
37.7,<br />
18.0,<br />
11.5,<br />
15.2,<br />
12.8,<br />
15.1,<br />
13.6,<br />
11.6,<br />
12.1,<br />
13.9,<br />
12.6,<br />
12.8,<br />
11.6,<br />
10.8,<br />
14.4,<br />
11.2,<br />
11.6,<br />
11.9,<br />
10.1,<br />
11.6,<br />
11.4,<br />
11.1,<br />
11.2,<br />
10.5,<br />
10.2,<br />
13.0,<br />
11.0,<br />
25.2,<br />
27.9,<br />
10.3,<br />
16.0,<br />
10.8,<br />
11.7,<br />
14.4,<br />
11.6,<br />
11.8,<br />
12.2,<br />
12.8,<br />
13.4,<br />
14.5,<br />
13.6,<br />
14.4,<br />
16.0,<br />
15.9,<br />
14.9,<br />
11.6,<br />
10.3,<br />
11.2,<br />
9.7,<br />
10.8,<br />
12.9,<br />
12.1,<br />
13.0,<br />
12.3,<br />
12.1,<br />
12.3,<br />
12.2,<br />
12.1,<br />
12.7,<br />
14.6,<br />
17.2,<br />
11.9,<br />
14.4,<br />
11.4,<br />
11.0,<br />
12.3,<br />
29.9,<br />
8.9,<br />
8.3,<br />
7.4,<br />
5.7,<br />
6.3,<br />
6.7,<br />
6.1,<br />
9.1<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre11”,<br />
type: “line”,<br />
data: [<br />
7.0,<br />
74.6,<br />
29.4,<br />
90.4,<br />
61.8,<br />
100.0,<br />
99.9,<br />
99.0,<br />
78.8,<br />
79.3,<br />
78.1,<br />
78.4,<br />
81.2,<br />
80.2,<br />
81.6,<br />
79.2,<br />
76.9,<br />
81.2,<br />
26.7,<br />
16.5,<br />
15.3,<br />
15.9,<br />
13.0,<br />
12.7,<br />
16.0,<br />
18.3,<br />
18.9,<br />
14.2,<br />
15.1,<br />
18.3,<br />
13.9,<br />
14.2,<br />
13.4,<br />
12.8,<br />
13.3,<br />
14.3,<br />
12.9,<br />
15.0,<br />
13.3,<br />
12.5,<br />
14.1,<br />
14.0,<br />
13.5,<br />
12.8,<br />
12.8,<br />
14.4,<br />
14.3,<br />
22.9,<br />
12.7,<br />
13.6,<br />
12.9,<br />
12.5,<br />
12.1,<br />
12.4,<br />
12.8,<br />
13.5,<br />
15.8,<br />
12.3,<br />
11.6,<br />
13.2,<br />
12.8,<br />
16.0,<br />
13.1,<br />
13.1,<br />
13.6,<br />
13.4,<br />
12.1,<br />
13.3,<br />
11.8,<br />
13.0,<br />
14.0,<br />
13.0,<br />
13.3,<br />
13.3,<br />
14.5,<br />
13.7,<br />
13.9,<br />
18.2,<br />
13.1,<br />
12.8,<br />
14.9,<br />
13.9,<br />
12.1,<br />
11.7,<br />
12.5,<br />
11.1,<br />
11.7,<br />
12.3,<br />
11.3,<br />
13.9,<br />
11.2,<br />
13.6,<br />
13.0,<br />
11.0,<br />
11.7<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre11”,<br />
type: “line”,<br />
data: [7.2,<br />
27.5,<br />
77,<br />
87.7,<br />
99.6,<br />
95.4,<br />
91.2,<br />
91.5,<br />
82.2,<br />
81.7,<br />
80.6,<br />
76.9,<br />
79.7,<br />
79.3,<br />
75,<br />
84.6,<br />
73.9,<br />
43.1,<br />
34.7,<br />
14.3,<br />
14.4,<br />
13.4,<br />
13.2,<br />
11.8,<br />
11,<br />
10.9,<br />
12.1,<br />
15.8,<br />
14.9,<br />
10.5,<br />
10.2,<br />
12.1,<br />
11.2,<br />
11,<br />
10.3,<br />
10,<br />
10.9,<br />
12.8,<br />
10.8,<br />
12.8,<br />
12,<br />
10.7,<br />
11.3,<br />
11.6,<br />
12.5,<br />
12.5,<br />
12.3,<br />
10,<br />
16.1,<br />
10.5,<br />
10.3,<br />
12.5,<br />
11.2,<br />
13.4,<br />
10.8,<br />
11.9,<br />
14.2,<br />
11.3,<br />
17.3,<br />
15.5,<br />
10.9,<br />
11,<br />
10.8,<br />
10.5,<br />
13.4,<br />
14.1,<br />
11.8,<br />
11.9,<br />
12.7,<br />
10.6,<br />
11.9,<br />
10.8,<br />
12,<br />
11.6,<br />
10.3,<br />
11.7,<br />
12.8,<br />
9.9,<br />
16.8,<br />
13.4,<br />
9.4,<br />
12.6,<br />
9.8,<br />
9.7,<br />
12.9,<br />
11.5,<br />
12,<br />
10.5,<br />
9.6,<br />
13.1,<br />
13,<br />
13.4,<br />
13.8,<br />
11.4,<br />
11.4,<br />
10.7,<br />
9.9,<br />
10.2<br />
]<br />
},<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts2701 = echarts.init(document.getElementById('echarts2701'));
    eChartecharts2701.setOption(optionecharts2701);
    var eChartecharts2701ResizeHandler = function() {
      eChartecharts2701.resize();
    };
    window.addEventListener("resize", eChartecharts2701ResizeHandler);
  }
</script> <p>无明显区别。</p> <h2 id="多插件开服测试"><a class="markdownIt-Anchor" href="#多插件开服测试"></a> 多插件开服测试</h2> <p>测试方法：和无插件开服测试相同<br> 使用插件列表：</p> <ul> <li>AdvancedNMotd-9.2.0</li> <li>Boom-1.3.3</li> <li>EastLandLog4jFixer-1.0.4</li> <li>EssentialsX-2.19.0-dev+52-7245e84</li> <li>EssentialsXChat-2.19.0-dev+52-7245e84</li> <li>EssentialsXSpawn-2.19.0-dev+52-7245e84</li> <li>HolographicDisplays-2.4.5</li> <li>HolographicPlaceholders-2.1.2 Stable</li> <li>LimitPillagers-3.0.1</li> <li>MiaoBoard-2.6.0</li> <li>MySkin-3.3</li> <li>NekoMaid-0.2.5</li> <li>PlaceholderAPI-2.10.9</li> <li>PlugManX-2.2.9</li> <li>ProtocolLib-4.5.1</li> <li>spark-1.9.23</li> <li>Uniporter-1.3.3</li> <li>Vault-1.7.3</li> <li>VillagerOptimiser-1.1.5<br> 使用存档为本人服务器存档，大小约3G，含多个强加载区块</li> </ul> <h3 id="cpu占用率-3"><a class="markdownIt-Anchor" href="#cpu占用率-3"></a> CPU占用率</h3> <p> </p><div id="echarts2851" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts2851ResizeHandler) {
    window.removeEventListener("resize", eChartecharts2851ResizeHandler);
  }
  var optionecharts2851 = <br />
{<br />
title: {<br />
text: “CPU占用率”<br />
},<br />
tooltip: {<br />
trigger: “axis”<br />
},<br />
legend: {<br />
data: [“Openj9 jre8”, “Hotspot jre8”, “Openj9 jre11”, “Hotspot jre11”]<br />
},<br />
grid: {<br />
left: “3%”,<br />
right: “4%”,<br />
bottom: “3%”,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: “category”,<br />
boundaryGap: false,<br />
data: [‘0s’, ‘10s’, ‘20s’, ‘30s’, ‘40s’, ‘50s’, ‘1min’,‘1min10s’,‘1min20s’,‘1min30s’,‘1min40s’,‘1min50s’,‘2min’,‘2min10s’,‘2min20s’,‘2min30s’,‘2min40s’,‘2min50s’,‘3min’,<br />
‘3min10s’,‘3min20s’,‘3min30s’,‘3min40s’,‘3min50s’,‘4min’,‘4min10s’,‘4min20s’,‘4min30s’,‘4min40s’,‘4min50s’,‘5min’,‘5min10s’,‘5min20s’,‘5min30s’,‘5min40s’,‘5min50s’,‘6min’,‘6min10s’,‘6min20s’,‘6min30s’,‘6min40s’,‘6min50s’,‘7min’,‘7min10s’,‘7min20s’,‘7min30s’,‘7min40s’,‘7min50s’,‘8min’,‘8min10s’,‘8min20s’,‘8min30s’,‘8min40s’,‘8min50s’,‘9min’,‘9min10s’,‘9min20s’,‘9min30s’,‘9min40s’,‘9min50s’,‘10min’,‘10min10s’,‘10min20s’,‘10min30s’,‘10min40s’,‘10min50s’,‘11min’,‘11min10s’,‘11min20s’,‘11min30s’,‘11min40s’,‘11min50s’,‘12min’,‘12min10s’,‘12min20s’,‘12min30s’,‘12min40s’,‘12min50s’,‘13min’,‘13min10s’,‘13min20s’,‘13min30s’,‘13min40s’,‘13min50s’,‘14min’,‘14min10s’,‘14min20s’,‘14min30s’,‘14min40s’,‘14min50s’,‘15min’]<br />
},<br />
yAxis: {<br />
type: “value”,<br />
scale:true<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre8”,<br />
type: “line”,<br />
data: [<br />
27.3 ,<br />
99.1 ,<br />
99.9 ,<br />
99.8 ,<br />
99.9 ,<br />
97.7 ,<br />
99.7 ,<br />
99.7 ,<br />
99.7 ,<br />
99.5 ,<br />
99.6 ,<br />
84.2 ,<br />
80.9 ,<br />
81.7 ,<br />
81.9 ,<br />
75.9 ,<br />
77.5 ,<br />
20.2 ,<br />
19.1 ,<br />
17.0 ,<br />
18.9 ,<br />
18.6 ,<br />
26.0 ,<br />
19.3 ,<br />
17.7 ,<br />
17.0 ,<br />
70.9 ,<br />
17.4 ,<br />
18.1 ,<br />
17.0 ,<br />
19.2 ,<br />
18.0 ,<br />
17.2 ,<br />
17.0 ,<br />
15.7 ,<br />
15.7 ,<br />
16.8 ,<br />
15.3 ,<br />
18.0 ,<br />
14.8 ,<br />
15.5 ,<br />
18.2 ,<br />
15.2 ,<br />
15.6 ,<br />
14.4 ,<br />
14.9 ,<br />
32.3 ,<br />
14.5 ,<br />
15.0 ,<br />
15.2 ,<br />
15.5 ,<br />
17.8 ,<br />
17.4 ,<br />
16.4 ,<br />
17.2 ,<br />
29.3 ,<br />
16.7 ,<br />
16.0 ,<br />
16.2 ,<br />
14.7 ,<br />
17.2 ,<br />
13.6 ,<br />
14.2 ,<br />
14.1 ,<br />
15.1 ,<br />
14.6 ,<br />
22.4 ,<br />
13.7 ,<br />
14.7 ,<br />
16.3 ,<br />
16.2 ,<br />
17.3 ,<br />
15.3 ,<br />
13.6 ,<br />
16.5 ,<br />
13.8 ,<br />
13.9 ,<br />
14.4 ,<br />
15.4 ,<br />
16.5 ,<br />
15.1 ,<br />
17.1 ,<br />
15.0 ,<br />
15.8 ,<br />
13.0 ,<br />
15.2 ,<br />
18.1 ,<br />
15.9 ,<br />
15.1 ,<br />
15.3 ,<br />
13.9 ,<br />
13.3 ,<br />
13.4 ,<br />
14.0 ,<br />
14.9 ,<br />
18.3 ,<br />
14.6 ,<br />
15.2 ,<br />
14.6 ,<br />
13.0</p>
<p>]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre8”,<br />
type: “line”,<br />
data: [<br />
0.7 ,<br />
54.5 ,<br />
99.2 ,<br />
98.3 ,<br />
99.0 ,<br />
96.4 ,<br />
97.2 ,<br />
93.2 ,<br />
90.0 ,<br />
82.7 ,<br />
76.1 ,<br />
79.7 ,<br />
76.3 ,<br />
39.9 ,<br />
19.0 ,<br />
18.6 ,<br />
17.0 ,<br />
17.6 ,<br />
16.5 ,<br />
16.7 ,<br />
19.3 ,<br />
15.6 ,<br />
15.7 ,<br />
14.3 ,<br />
18.1 ,<br />
42.2 ,<br />
15.7 ,<br />
15.9 ,<br />
17.9 ,<br />
15.3 ,<br />
15.4 ,<br />
14.9 ,<br />
16.6 ,<br />
20.0 ,<br />
14.6 ,<br />
17.7 ,<br />
17.4 ,<br />
16.0 ,<br />
15.6 ,<br />
16.2 ,<br />
16.1 ,<br />
17.6 ,<br />
19.8 ,<br />
18.2 ,<br />
18.8 ,<br />
21.9 ,<br />
16.7 ,<br />
16.3 ,<br />
13.1 ,<br />
14.0 ,<br />
14.6 ,<br />
13.9 ,<br />
13.7 ,<br />
12.8 ,<br />
13.1 ,<br />
13.4 ,<br />
14.3 ,<br />
14.0 ,<br />
16.5 ,<br />
15.8 ,<br />
15.7 ,<br />
18.7 ,<br />
16.5 ,<br />
18.0 ,<br />
15.7 ,<br />
19.0 ,<br />
14.9 ,<br />
13.9 ,<br />
13.0 ,<br />
15.3 ,<br />
14.3 ,<br />
14.1 ,<br />
15.2 ,<br />
13.8 ,<br />
13.0 ,<br />
13.1 ,<br />
14.2 ,<br />
15.7 ,<br />
14.0 ,<br />
15.6 ,<br />
19.3 ,<br />
16.4 ,<br />
14.3 ,<br />
13.7 ,<br />
12.8 ,<br />
20.6 ,<br />
14.4 ,<br />
14.9 ,<br />
15.5 ,<br />
14.2 ,<br />
14.0 ,<br />
13.6</p>
<p>]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre11”,<br />
type: “line”,<br />
data: [<br />
0.9 ,<br />
48.5 ,<br />
99.3 ,<br />
99.7 ,<br />
99.8 ,<br />
98.4 ,<br />
78.7 ,<br />
97.6 ,<br />
99.9 ,<br />
99.9 ,<br />
99.7 ,<br />
99.1 ,<br />
99.5 ,<br />
85.1 ,<br />
78.7 ,<br />
81.5 ,<br />
79.2 ,<br />
77.1 ,<br />
89.2 ,<br />
77.4 ,<br />
73.7 ,<br />
74.9 ,<br />
81.6 ,<br />
40.2 ,<br />
20.1 ,<br />
19.1 ,<br />
20.5 ,<br />
61.6 ,<br />
48.4 ,<br />
20.5 ,<br />
18.7 ,<br />
18.2 ,<br />
19.2 ,<br />
20.9 ,<br />
16.4 ,<br />
16.3 ,<br />
15.2 ,<br />
18.7 ,<br />
17.9 ,<br />
15.2 ,<br />
17.5 ,<br />
16.8 ,<br />
16.5 ,<br />
19.8 ,<br />
20.7 ,<br />
17.0 ,<br />
19.0 ,<br />
29.9 ,<br />
15.0 ,<br />
16.6 ,<br />
16.1 ,<br />
15.7 ,<br />
18.1 ,<br />
15.9 ,<br />
18.7 ,<br />
16.6 ,<br />
16.1 ,<br />
16.1 ,<br />
15.3 ,<br />
23.4 ,<br />
17.4 ,<br />
18.8 ,<br />
19.0 ,<br />
15.5 ,<br />
18.8 ,<br />
15.9 ,<br />
31.0 ,<br />
21.4 ,<br />
16.0 ,<br />
15.2 ,<br />
15.6 ,<br />
15.3 ,<br />
16.5 ,<br />
15.8 ,<br />
15.8 ,<br />
15.7 ,<br />
16.5 ,<br />
15.2 ,<br />
15.3 ,<br />
16.2 ,<br />
15.8 ,<br />
17.1 ,<br />
16.9 ,<br />
17.3 ,<br />
15.7 ,<br />
15.1 ,<br />
16.9 ,<br />
19.0 ,<br />
14.8 ,<br />
15.0 ,<br />
14.2 ,<br />
14.5 ,<br />
16.4<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre11”,<br />
type: “line”,<br />
data: [<br />
0.9 ,<br />
38.4 ,<br />
98.7 ,<br />
99.0 ,<br />
99.5 ,<br />
98.3 ,<br />
99.3 ,<br />
99.2 ,<br />
97.1 ,<br />
95.5 ,<br />
86.5 ,<br />
83.7 ,<br />
83.5 ,<br />
77.5 ,<br />
51.2 ,<br />
20.1 ,<br />
20.0 ,<br />
18.9 ,<br />
16.7 ,<br />
16.6 ,<br />
15.7 ,<br />
16.4 ,<br />
27.8 ,<br />
18.7 ,<br />
22.7 ,<br />
40.2 ,<br />
18.5 ,<br />
18.2 ,<br />
16.3 ,<br />
17.9 ,<br />
17.0 ,<br />
17.0 ,<br />
20.5 ,<br />
15.6 ,<br />
15.6 ,<br />
14.5 ,<br />
14.5 ,<br />
13.1 ,<br />
15.3 ,<br />
14.1 ,<br />
14.9 ,<br />
13.7 ,<br />
14.2 ,<br />
15.0 ,<br />
16.1 ,<br />
17.8 ,<br />
14.9 ,<br />
14.6 ,<br />
14.8 ,<br />
13.5 ,<br />
13.7 ,<br />
17.5 ,<br />
13.7 ,<br />
13.3 ,<br />
13.0 ,<br />
13.9 ,<br />
14.0 ,<br />
12.5 ,<br />
12.9 ,<br />
12.8 ,<br />
13.9 ,<br />
12.0 ,<br />
15.1 ,<br />
15.8 ,<br />
12.0 ,<br />
16.8 ,<br />
12.7 ,<br />
14.7 ,<br />
14.0 ,<br />
13.3 ,<br />
16.0 ,<br />
14.6 ,<br />
11.8 ,<br />
15.2 ,<br />
16.6 ,<br />
12.5 ,<br />
13.3 ,<br />
12.8 ,<br />
12.5 ,<br />
13.5 ,<br />
15.8 ,<br />
16.3 ,<br />
14.5 ,<br />
15.1 ,<br />
16.2 ,<br />
19.7 ,<br />
13.0 ,<br />
12.9 ,<br />
13.3 ,<br />
13.9 ,<br />
16.0 ,<br />
12.7 ,<br />
12.5 ,<br />
14.6 ,<br />
16.6 ,<br />
14.7 ,<br />
14.1 ,<br />
13.8 ,<br />
14.9<br />
]<br />
},<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts2851 = echarts.init(document.getElementById('echarts2851'));
    eChartecharts2851.setOption(optionecharts2851);
    var eChartecharts2851ResizeHandler = function() {
      eChartecharts2851.resize();
    };
    window.addEventListener("resize", eChartecharts2851ResizeHandler);
  }
</script> <p>Openj9 jre11表现不佳，其余占用率相近。</p> <h3 id="内存占用-3"><a class="markdownIt-Anchor" href="#内存占用-3"></a> 内存占用</h3> <p> </p><div id="echarts9790" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts9790ResizeHandler) {
    window.removeEventListener("resize", eChartecharts9790ResizeHandler);
  }
  var optionecharts9790 = <br />
{<br />
title: {<br />
text: “内存占用”<br />
},<br />
tooltip: {<br />
trigger: “axis”<br />
},<br />
legend: {<br />
data: [“Openj9 jre8”, “Hotspot jre8”, “Openj9 jre11”, “Hotspot jre11”]<br />
},<br />
grid: {<br />
left: “3%”,<br />
right: “4%”,<br />
bottom: “3%”,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: “category”,<br />
boundaryGap: false,<br />
data: [‘0s’, ‘10s’, ‘20s’, ‘30s’, ‘40s’, ‘50s’, ‘1min’,‘1min10s’,‘1min20s’,‘1min30s’,‘1min40s’,‘1min50s’,‘2min’,‘2min10s’,‘2min20s’,‘2min30s’,‘2min40s’,‘2min50s’,‘3min’,<br />
‘3min10s’,‘3min20s’,‘3min30s’,‘3min40s’,‘3min50s’,‘4min’,‘4min10s’,‘4min20s’,‘4min30s’,‘4min40s’,‘4min50s’,‘5min’,‘5min10s’,‘5min20s’,‘5min30s’,‘5min40s’,‘5min50s’,‘6min’,‘6min10s’,‘6min20s’,‘6min30s’,‘6min40s’,‘6min50s’,‘7min’,‘7min10s’,‘7min20s’,‘7min30s’,‘7min40s’,‘7min50s’,‘8min’,‘8min10s’,‘8min20s’,‘8min30s’,‘8min40s’,‘8min50s’,‘9min’,‘9min10s’,‘9min20s’,‘9min30s’,‘9min40s’,‘9min50s’,‘10min’,‘10min10s’,‘10min20s’,‘10min30s’,‘10min40s’,‘10min50s’,‘11min’,‘11min10s’,‘11min20s’,‘11min30s’,‘11min40s’,‘11min50s’,‘12min’,‘12min10s’,‘12min20s’,‘12min30s’,‘12min40s’,‘12min50s’,‘13min’,‘13min10s’,‘13min20s’,‘13min30s’,‘13min40s’,‘13min50s’,‘14min’,‘14min10s’,‘14min20s’,‘14min30s’,‘14min40s’,‘14min50s’,‘15min’]<br />
},<br />
yAxis: {<br />
type: “value”,<br />
scale:true<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre8”,<br />
type: “line”,<br />
data: [<br />
515,<br />
1074,<br />
1235,<br />
1286,<br />
1375,<br />
1433,<br />
1460,<br />
1451,<br />
1454,<br />
1465,<br />
1460,<br />
1463,<br />
1449,<br />
1468,<br />
1456,<br />
1470,<br />
1470,<br />
1466,<br />
1468,<br />
1467,<br />
1470,<br />
1468,<br />
1471,<br />
1470,<br />
1472,<br />
1475,<br />
1494,<br />
1478,<br />
1475,<br />
1474,<br />
1473,<br />
1474,<br />
1475,<br />
1477,<br />
1476,<br />
1475,<br />
1475,<br />
1477,<br />
1477,<br />
1481,<br />
1475,<br />
1471,<br />
1471,<br />
1477,<br />
1472,<br />
1471,<br />
1471,<br />
1472,<br />
1474,<br />
1472,<br />
1472,<br />
1472,<br />
1472,<br />
1466,<br />
1465,<br />
1466,<br />
1466,<br />
1466,<br />
1466,<br />
1466,<br />
1466,<br />
1466,<br />
1467,<br />
1466,<br />
1467,<br />
1469,<br />
1465,<br />
1465,<br />
1466,<br />
1466,<br />
1468,<br />
1468,<br />
1468,<br />
1468,<br />
1468,<br />
1468,<br />
1467,<br />
1468,<br />
1461,<br />
1461,<br />
1461,<br />
1461,<br />
1462,<br />
1461,<br />
1461,<br />
1462,<br />
1465,<br />
1462,<br />
1462,<br />
1462,<br />
1463,<br />
1456,<br />
1457,<br />
1456,<br />
1457,<br />
1457,<br />
1457,<br />
1457,<br />
1465,<br />
1457<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre8”,<br />
type: “line”,<br />
data: [<br />
473,<br />
654,<br />
1282,<br />
1453,<br />
1522,<br />
1653,<br />
1649,<br />
1654,<br />
1661,<br />
1689,<br />
1700,<br />
1710,<br />
1712,<br />
1721,<br />
1721,<br />
1722,<br />
1721,<br />
1721,<br />
1721,<br />
1722,<br />
1722,<br />
1724,<br />
1724,<br />
1724,<br />
1725,<br />
1737,<br />
1740,<br />
1740,<br />
1739,<br />
1740,<br />
1740,<br />
1741,<br />
1739,<br />
1740,<br />
1741,<br />
1741,<br />
1741,<br />
1742,<br />
1741,<br />
1742,<br />
1743,<br />
1742,<br />
1743,<br />
1744,<br />
1743,<br />
1745,<br />
1745,<br />
1746,<br />
1746,<br />
1746,<br />
1746,<br />
1746,<br />
1745,<br />
1746,<br />
1746,<br />
1746,<br />
1745,<br />
1745,<br />
1745,<br />
1745,<br />
1746,<br />
1746,<br />
1746,<br />
1746,<br />
1746,<br />
1746,<br />
1747,<br />
1747,<br />
1747,<br />
1747,<br />
1748,<br />
1748,<br />
1748,<br />
1748,<br />
1748,<br />
1748,<br />
1748,<br />
1749,<br />
1748,<br />
1749,<br />
1748,<br />
1749,<br />
1748,<br />
1749,<br />
1749,<br />
1749,<br />
1750,<br />
1749,<br />
1750,<br />
1750,<br />
1750,<br />
1751<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre11”,<br />
type: “line”,<br />
data: [<br />
473,<br />
686,<br />
1210,<br />
1319,<br />
1406,<br />
1505,<br />
1575,<br />
1610,<br />
1622,<br />
1643,<br />
1631,<br />
1633,<br />
1638,<br />
1635,<br />
1633,<br />
1633,<br />
1636,<br />
1641,<br />
1640,<br />
1654,<br />
1662,<br />
1659,<br />
1770,<br />
1665,<br />
1664,<br />
1672,<br />
1666,<br />
1720,<br />
1664,<br />
1664,<br />
1665,<br />
1665,<br />
1668,<br />
1683,<br />
1666,<br />
1669,<br />
1660,<br />
1665,<br />
1666,<br />
1659,<br />
1659,<br />
1663,<br />
1659,<br />
1659,<br />
1660,<br />
1656,<br />
1655,<br />
1672,<br />
1657,<br />
1656,<br />
1659,<br />
1659,<br />
1661,<br />
1655,<br />
1688,<br />
1655,<br />
1656,<br />
1656,<br />
1656,<br />
1655,<br />
1656,<br />
1651,<br />
1654,<br />
1654,<br />
1654,<br />
1653,<br />
1652,<br />
1654,<br />
1654,<br />
1648,<br />
1649,<br />
1654,<br />
1648,<br />
1652,<br />
1649,<br />
1648,<br />
1649,<br />
1642,<br />
1642,<br />
1643,<br />
1642,<br />
1642,<br />
1642,<br />
1644,<br />
1638,<br />
1641,<br />
1641,<br />
1641,<br />
1641,<br />
1641,<br />
1641,<br />
1645,<br />
1635<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre11”,<br />
type: “line”,<br />
data: [<br />
472,<br />
535,<br />
979,<br />
1474,<br />
1708,<br />
1866,<br />
1889,<br />
1893,<br />
1910,<br />
1914,<br />
1917,<br />
1918,<br />
1920,<br />
1923,<br />
1935,<br />
1936,<br />
1937,<br />
1937,<br />
1938,<br />
1938,<br />
1939,<br />
1938,<br />
1943,<br />
1940,<br />
1941,<br />
1942,<br />
1945,<br />
1945,<br />
1946,<br />
1946,<br />
1947,<br />
1948,<br />
1948,<br />
1948,<br />
1950,<br />
1950,<br />
1950,<br />
1950,<br />
1950,<br />
1950,<br />
1951,<br />
1951,<br />
1950,<br />
1951,<br />
1952,<br />
1951,<br />
1953,<br />
1953,<br />
1953,<br />
1953,<br />
1953,<br />
1952,<br />
1952,<br />
1952,<br />
1952,<br />
1952,<br />
1952,<br />
1953,<br />
1953,<br />
1953,<br />
1952,<br />
1953,<br />
1953,<br />
1953,<br />
1954,<br />
1953,<br />
1954,<br />
1954,<br />
1954,<br />
1954,<br />
1955,<br />
1955,<br />
1954,<br />
1954,<br />
1954,<br />
1954,<br />
1954,<br />
1954,<br />
1954,<br />
1954,<br />
1954,<br />
1954,<br />
1955,<br />
1955,<br />
1955,<br />
1954,<br />
1955,<br />
1955,<br />
1955,<br />
1955,<br />
1955,<br />
1955,<br />
1956,<br />
1956,<br />
1956,<br />
1956,<br />
1956,<br />
1956,<br />
1957<br />
]<br />
},<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts9790 = echarts.init(document.getElementById('echarts9790'));
    eChartecharts9790.setOption(optionecharts9790);
    var eChartecharts9790ResizeHandler = function() {
      eChartecharts9790.resize();
    };
    window.addEventListener("resize", eChartecharts9790ResizeHandler);
  }
</script> <p>和无插件开服测试结果相同，Openj9的内存依然非常低。</p> <h3 id="tps-2"><a class="markdownIt-Anchor" href="#tps-2"></a> TPS</h3> <p> </p><div id="echarts1037" style="width:95%;height:400px;margin:0 auto"></div> <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script> <script>
  if (window.eChartecharts1037ResizeHandler) {
    window.removeEventListener("resize", eChartecharts1037ResizeHandler);
  }
  var optionecharts1037 = <br />
option = {<br />
title: {<br />
text: “TPS”<br />
},<br />
tooltip: {<br />
trigger: “axis”<br />
},<br />
legend: {<br />
data: [“Openj9 jre8”, “Hotspot jre8”, “Openj9 jre11”, “Hotspot jre11”]<br />
},<br />
grid: {<br />
left: “3%”,<br />
right: “4%”,<br />
bottom: “3%”,<br />
containLabel: true<br />
},<br />
toolbox: {<br />
feature: {<br />
saveAsImage: {}<br />
}<br />
},<br />
xAxis: {<br />
type: “category”,<br />
boundaryGap: false,<br />
data: [“0s”,<br />
“5s”,<br />
“10s”,<br />
“15s”,<br />
“20s”,<br />
“25s”,<br />
“30s”,<br />
“35s”,<br />
“40s”,<br />
“45s”,<br />
“50s”,<br />
“55s”,<br />
“1min”,<br />
“1min5s”,<br />
“1min10s”,<br />
“1min15s”,<br />
“1min20s”,<br />
“1min25s”,<br />
“1min30s”,<br />
“1min35s”,<br />
“1min40s”,<br />
“1min45s”,<br />
“1min50s”,<br />
“1min55s”,<br />
“2min”,<br />
“2min5s”,<br />
“2min10s”,<br />
“2min15s”,<br />
“2min20s”,<br />
“2min25s”,<br />
“2min30s”,<br />
“2min35s”,<br />
“2min40s”,<br />
“2min45s”,<br />
“2min50s”,<br />
“2min55s”,<br />
“3min”,<br />
“3min5s”,<br />
“3min10s”,<br />
“3min15s”,<br />
“3min20s”,<br />
“3min25s”,<br />
“3min30s”,<br />
“3min35s”,<br />
“3min40s”,<br />
“3min45s”,<br />
“3min50s”,<br />
“3min55s”,<br />
“4min”,<br />
“4min5s”,<br />
“4min10s”,<br />
“4min15s”,<br />
“4min20s”,<br />
“4min25s”,<br />
“4min30s”,<br />
“4min35s”,<br />
“4min40s”,<br />
“4min45s”,<br />
“4min50s”,<br />
“4min55s”,<br />
“5min”]<br />
},<br />
yAxis: {<br />
type: “value”,<br />
scale:true<br />
},<br />
series: [<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre8”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,<br />
null,null,null,null,null,20,<br />
20,20,20,20,20,20,20,<br />
20,20,10.43,16.17,17.27,17.61,<br />
18.26,18.26,20,20,20,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,20,19.7,19.7,19.7,<br />
20,20,20,20,20,19.47,19.47,19.47,19.47,19.47,19.47,20,<br />
20,20,20,20,20<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre8”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,<br />
null,null,null,null,20,20,<br />
20,20,20,20,20,20,<br />
15.24,16.19,17.28,18.1,18.27,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,<br />
19.91,19.91,19.91,19.91,19.91,19.91,<br />
20,20,20,20,20,20,20<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Openj9 jre11”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,<br />
null,null,null,null,null,null,<br />
null,20,20,20,20,20,<br />
20,20,20,20,10.44,15.22,<br />
16.81,17.61,18.09,18.26,20,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,19.02,<br />
19.11,19.11,19.11,19.11,19.11,20,20<br />
]<br />
},<br />
{<br />
showSymbol: false,<br />
name: “Hotspot jre11”,<br />
type: “line”,<br />
data: [null,null,null,null,null,null,<br />
null,null,null,20,20,20,<br />
20,20,20,20,20,20,<br />
10.49,15.24,16.83,17.62,18.1,18.27,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,<br />
20,20,20,20,20,20,<br />
20,19.99,20,20,20,20,<br />
20,20,20,20,20,20,20<br />
]<br />
},<br />
]<br />
};</p>;
  if (window.echarts !== undefined) {
    var eChartecharts1037 = echarts.init(document.getElementById('echarts1037'));
    eChartecharts1037.setOption(optionecharts1037);
    var eChartecharts1037ResizeHandler = function() {
      eChartecharts1037.resize();
    };
    window.addEventListener("resize", eChartecharts1037ResizeHandler);
  }
</script> <p>四个版本TPS均会下降，但由于Hotspot启动速度约是Openj9两倍，所以TPS下降时间点也略微提前。</p> <h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2> <p>Openj9相比于Hotspot性能会有略微的损失，具体表现为开服速度慢约两倍，CPU占用率会更高。但由此带来的是内存的大量降低。如果在TPS上并没有过大的压力但是内存紧俏的情况下建议还是 采用Openj9的虚拟机。<br> 对于1.16版本的Minecraft，如果没有插件的特殊要求，建议使用java8而非java11。</p> </div> <footer class="article-footer"> <blockquote class="article-copyright"> <p><strong><span class="icon icon-user"></span>本文作者：</strong>D-Sketon @ 拔剑Sketon</p> <p><strong><span class="icon icon-link"></span>本文链接：</strong><a href="https://d-sketon.github.io/20220702/minecraft-server-comparison/">https://d-sketon.github.io/20220702/minecraft-server-comparison/</a></p> <p><strong><span class="icon icon-copyright"></span>本文版权：</strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow noopener noreferrer" target="_blank"><span class="icon-creative-commons"></span>BY-NC-SA</a> 许可协议。转载请注明出处！</p> <span class="article-copyright-bg icon-creative-commons"></span> </blockquote> <div class="share-wrapper"> <a href="https://connect.qq.com/widget/shareqq/index.html?url=www.baidu.com&amp;title=%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%ACJava%E5%AF%B9%E4%BA%8EMinecraft%E6%9C%8D%E5%8A%A1%E7%AB%AFspigot%E7%AB%AF%E7%9A%84%E6%80%A7%E8%83%BD%E5%BD%B1%E5%93%8D&amp;desc=%E6%B5%8B%E8%AF%95Java8%E5%92%8CJava11%E4%B8%8BHotspot%E5%92%8COpenj9%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AF%B9%E4%BA%8EMinecraft%E6%9C%8D%E5%8A%A1%E7%AB%AFspigot%E7%AB%AF%E7%9A%84%E6%80%A7%E8%83%BD%E5%BD%B1%E5%93%8D&amp;source=https%3A%2F%2Fd-sketon.github.io" target="_blank" rel="noopener noreferrer" title="不同版本Java对于Minecraft服务端spigot端的性能影响"> <div class="icon icon-qq share-icon"> </div> </a> <a href="javascript:;" title="不同版本Java对于Minecraft服务端spigot端的性能影响"> <div class="icon icon-weixin share-icon"> <div id="share-weixin"> <div class="share-weixin-dom"> <div class="share-weixin-content"> <img id="share-weixin-banner"> <div id="share-weixin-title"></div> <div id="share-weixin-desc"></div> </div> <div class="share-weixin-qrcode"> <div class="share-weixin-info"> <div id="share-weixin-author"></div> <div id="share-weixin-theme">Powered By hexo-theme-reimu</div> </div> <img id="share-weixin-qr"> </div> </div> <div class="share-weixin-canvas"></div> </div> </div> </a> </div> <a data-aos="zoom-in" href="/20220702/minecraft-server-comparison/#comments" class="article-comment-link"> <span class="post-comments-count waline-comment-count" data-path="/20220702/minecraft-server-comparison/" itemprop="commentCount"></span> 留言 </a> <span data-aos="zoom-in" class="article-visitor-link"> <span class="waline-pageview-count" data-path="/20220702/minecraft-server-comparison/">0</span> <em class="post-meta-item-text">阅读量</em> </span> <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item" data-aos="zoom-in"><a class="article-tag-list-link" href="/tags/Minecraft/" rel="tag">Minecraft</a></li><li class="article-tag-list-item" data-aos="zoom-in"><a class="article-tag-list-link" href="/tags/spigot/" rel="tag">spigot</a></li></ul> </footer> </div> <nav id="article-nav" data-aos="fade-up"> <div class="article-nav-link-wrap left"> <img data-src="https://d-sketon.top/img/_backwebp480/bg28.webp" data-sizes="auto" alt="《大家的日语》文法整理" class="lazyload"> <a href="/20220709/nihongo-bunpou/"></a> <div class="article-nav-caption">前一篇</div> <h3 class="article-nav-title"> 《大家的日语》文法整理 </h3> </div> <div class="article-nav-link-wrap right"> <img data-src="https://d-sketon.top/img/_backwebp480/bg10.webp" data-sizes="auto" alt="Ubuntu下安装spigot搭建Minecraft服务器" class="lazyload"> <a href="/20220701/minecraft-server-install/"></a> <div class="article-nav-caption">后一篇</div> <h3 class="article-nav-title"> Ubuntu下安装spigot搭建Minecraft服务器 </h3> </div> </nav> </article> <section id="comments" data-aos="fade-up"> <div class="comment-header"> <h2 class="comment-title">说些什么吧！</h2> <div class="comment-selector"> <div class="comment-selector-wrap"> <div class="selector-item" data-selector="waline"> <span>waline</span> </div> </div> </div> </div> <div class="comment-content"> <div class="comment waline-comment" data-aos="fade-up" id="waline-comment"> </div> </div> </section> </section> </div> <footer id="footer"> <div style="width:100%;overflow:hidden"> <div class="footer-line"></div> </div> <div id="footer-info"> <div> <span class="icon-copyright"></span> 2020-2025 <span class="footer-info-sep rotate"></span> D-Sketon </div> <div> 基于&nbsp;<a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a>&nbsp; Theme.<a href="https://github.com/D-Sketon/hexo-theme-reimu" rel="external nofollow noopener noreferrer" target="_blank">Reimu</a> </div> <div> <span class="icon-brush"></span> 224.8k &nbsp;|&nbsp; <span class="icon-coffee"></span> 16:47 </div> <div> <span class="icon-eye"></span> <span id="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></span> &nbsp;|&nbsp; <span class="icon-user"></span> <span id="busuanzi_container_site_uv">总访客量&nbsp;<span id="busuanzi_value_site_uv"></span></span> </div> </div> </footer> <div class="sidebar-top"> <div class="rotate sidebar-top-taichi"></div> <div class="arrow-up"></div> </div> <div id="mask" class="hide"></div> </div> <nav id="mobile-nav"> <div class="sidebar-wrap"> <div class="sidebar-toc-sidebar"><h3 class="toc-title">文章目录</h3> <div class="sidebar-toc-wrapper toc-div-class"> <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E6%8F%92%E4%BB%B6%E5%BC%80%E6%9C%8D%E6%B5%8B%E8%AF%95"><span class="toc-number">1.</span> <span class="toc-text"> 无插件开服测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu%E5%8D%A0%E7%94%A8%E7%8E%87"><span class="toc-number">1.1.</span> <span class="toc-text"> CPU占用率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text"> 内存占用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tps"><span class="toc-number">1.3.</span> <span class="toc-text"> TPS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#allocated-memory"><span class="toc-number">1.4.</span> <span class="toc-text"> Allocated memory</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%91%E5%9B%BE%E6%B5%8B%E8%AF%95"><span class="toc-number">2.</span> <span class="toc-text"> 跑图测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8-2"><span class="toc-number">2.1.</span> <span class="toc-text"> 内存占用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu%E5%8D%A0%E7%94%A8%E7%8E%87-2"><span class="toc-number">2.2.</span> <span class="toc-text"> CPU占用率</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%8F%92%E4%BB%B6%E5%BC%80%E6%9C%8D%E6%B5%8B%E8%AF%95"><span class="toc-number">3.</span> <span class="toc-text"> 多插件开服测试</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cpu%E5%8D%A0%E7%94%A8%E7%8E%87-3"><span class="toc-number">3.1.</span> <span class="toc-text"> CPU占用率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8-3"><span class="toc-number">3.2.</span> <span class="toc-text"> 内存占用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tps-2"><span class="toc-number">3.3.</span> <span class="toc-text"> TPS</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text"> 总结</span></a></li></ol> </div> </div> <div class="hidden sidebar-common-sidebar"><div class="sidebar-author"> <img data-src="/avatar/avatar.webp" data-sizes="auto" alt="D-Sketon" class="lazyload"> <div class="sidebar-author-name">D-Sketon</div> <div class="sidebar-description">D-Sketon&#39;s blog</div> </div> <div class="sidebar-state"> <div class="sidebar-state-article"> <div>文章</div> <div class="sidebar-state-number">72</div> </div> <div class="sidebar-state-category"> <div>分类</div> <div class="sidebar-state-number">10</div> </div> <div class="sidebar-state-tag"> <div>标签</div> <div class="sidebar-state-number">20</div> </div> </div> <div class="sidebar-social"> <div class="icon-github sidebar-social-icon"> <a href="https://github.com/D-Sketon" itemprop="url" target="_blank" aria-label="github" rel="external nofollow noopener noreferrer"></a> </div> <div class="icon-bilibili sidebar-social-icon"> <a href="https://space.bilibili.com/20339857" itemprop="url" target="_blank" aria-label="bilibili" rel="external nofollow noopener noreferrer"></a> </div> </div> <div class="sidebar-menu"> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/" aria-label="首页"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">首页</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/archives" aria-label="归档"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">归档</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/about" aria-label="关于"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">关于</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/friend" aria-label="友链"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">友链</div> </div> </div> </div> </div> <div class="sidebar-btn-wrapper"> <div class="current sidebar-toc-btn"></div> <div class="sidebar-common-btn"></div> </div> </nav> </div> <div class="site-search"> <div class="popup reimu-popup"> <div class="reimu-search"> <div class="reimu-search-input-icon"></div> <div class="reimu-search-input" id="reimu-search-input"></div> <div class="popup-btn-close"></div> </div> <div class="reimu-results"> <div id="reimu-stats"></div> <div id="reimu-hits"></div> <div id="reimu-pagination" class="reimu-pagination"></div> </div> <img class="reimu-bg" src="/images/reimu.png"> </div> </div> <script src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js" integrity="sha384-3gT&#x2F;vsepWkfz&#x2F;ff7PpWNUeMzeWoH3cDhm&#x2F;A8jM7ouoAK0&#x2F;fP&#x2F;9bcHHR5kHq2nf+e" crossorigin></script> <script src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js" integrity="sha384-J08i8An&#x2F;QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin></script> <script src="/js/script.js"></script> <script src="/js/aos.js"></script> <script>var aosInit=()=>{AOS.init({duration:1e3,easing:'ease',once:!0,offset:50})};'loading'===document.readyState?document.addEventListener('DOMContentLoaded',aosInit):aosInit();</script> <script src="/js/pjax_script.js" data-pjax></script> <script>var ALGOLIA_CONFIG={logo:'/images/algolia_logo.svg',algolia:{applicationID:'AIE5T9AKYQ',apiKey:'2b855b06a058dd80bc84972874e020aa',indexName:'reimu_new_algoliasearch',hits:{per_page:parseInt('10')},labels:{input_placeholder:'搜索.....',hits_empty:'未发现与 「${query}」相关内容',hits_stats:'找到${hits}条结果（用时 ${time} ms）'}}};</script> <script src="https://npm.webcache.cn/algoliasearch@4.17.1/dist/algoliasearch-lite.umd.js" integrity="sha384-xvLS0jfKuoREs7pqkRI&#x2F;OI8GcqohO5S+jQz7ZBtQXnsXmD+9jDOOY4cL6dCPzlrk" crossorigin defer></script> <script src="https://npm.webcache.cn/@reimujs/instantsearch.js@4.57.0-beta.1/dist/instantsearch.production.min.js" integrity="sha384-aagKMe8nkqaP2DYQc8kkYOL5l+M5Q2WH&#x2F;Uhr4teOh0Ybp0RZj0kUSDm45qPikMjK" crossorigin defer></script> <script src="/js/algolia_search.js" defer></script> <script src="https://npm.webcache.cn/mouse-firework@0.1.1/dist/index.umd.js" integrity="sha384-8LyaidD9GPxQQgLJO&#x2F;WRw&#x2F;O2h3BoNq&#x2F;ApI&#x2F;ecpvM6RsrCz2qP2ppBXUKihP4V&#x2F;2d" crossorigin></script> <script>window.firework&&window.firework(JSON.parse('{"excludeElements":["a","button"],"particles":[{"shape":"circle","move":["emit"],"easing":"easeOutExpo","colors":["var(--red-1)","var(--red-2)","var(--red-3)","var(--red-4)"],"number":20,"duration":[1200,1800],"shapeOptions":{"radius":[16,32],"alpha":[0.3,0.5]}},{"shape":"circle","move":["diffuse"],"easing":"easeOutExpo","colors":["var(--red-0)"],"number":1,"duration":[1200,1800],"shapeOptions":{"radius":20,"alpha":[0.2,0.5],"lineWidth":6}}]}'));</script> <script src="https://npm.webcache.cn/theme-shokax-pjax@0.0.3/dist/index.umd.js" integrity="sha384-xneY1WY8hOfUzswrE4CrYq35N4BdVcxqxwHPr9zawE&#x2F;jMSCxD+jAPU55x&#x2F;jj3wlf" crossorigin></script> <script>function loadScripts(scripts,index){if(index<scripts.length){let script=scripts[index],src=script.getAttribute('src');var loadScript=scriptContent=>new Promise((resolve,reject)=>{var scriptElement=document.createElement('script');script.type&&(scriptElement.type=script.type),script.src&&(scriptElement.src=script.src,script.integrity&&(scriptElement.integrity=script.integrity),script.crossOrigin&&(scriptElement.crossOrigin=script.crossOrigin),scriptElement.onload=resolve,scriptElement.onerror=reject),scriptContent&&(scriptElement.text=scriptContent),document.head.appendChild(scriptElement),script.src||resolve()});(src?loadScript():loadScript(script.text)).then(()=>loadScripts(scripts,index+1)).catch(error=>{console.error('Failed to load script: '+(src||'inline script'),error),loadScripts(scripts,index+1)})}}window.Pjax&&(Pjax.prototype.getElements=function(){var i18nLanguages=window.REIMU_CONFIG.i18n_languages,baseUrl=window.REIMU_CONFIG.base;let basePathname=new URL(baseUrl).pathname;basePathname.endsWith('/')||(basePathname+='/');var currentUrl=window.location.href;let currentPathname=new URL(currentUrl).pathname.replace(basePathname,'');var aLinks=document.querySelectorAll('a[href]'),pjaxLinks=[];for(let i=0;i<aLinks.length;i++){var aLink=aLinks[i],aLinkHref=aLink.getAttribute('href'),isExternal='_blank'===aLink.getAttribute('target')||aLink.getAttribute('rel')?.includes('noopener');if(!(isExternal||aLinkHref.startsWith('mailto:')||aLinkHref.startsWith('tel:')||aLinkHref.startsWith('javascript:')||aLinkHref.startsWith('data:')||aLinkHref.startsWith('vbscript:')))if(i18nLanguages){isExternal=new URL(aLinkHref,currentUrl).href;let absolutePathname=new URL(isExternal).pathname.replace(basePathname,'');if(absolutePathname&&currentPathname){aLinkHref=i18nLanguages.findIndex(lang=>currentPathname.startsWith(lang));if(-1<aLinkHref)i18nLanguages.findIndex(lang=>absolutePathname.startsWith(lang))===aLinkHref&&pjaxLinks.push(aLink);else{let absoluteLangIndex=i18nLanguages.findIndex(lang=>absolutePathname.startsWith(lang));-1===absoluteLangIndex&&pjaxLinks.push(aLink)}}else pjaxLinks.push(aLink)}else pjaxLinks.push(aLink)}return pjaxLinks}),window.Pjax&&new window.Pjax({selectors:['#header>img','#header>picture','head title','#header-title','#subtitle-wrap','#main','#content','.sidebar-widget','.sidebar-wrapper','.sidebar-wrapper-container','#mobile-nav','#lazy-script','#i18n-nav'],switches:{'.sidebar-wrapper-container':function(oldEl,newEl){oldEl.className=newEl.className,this.onSwitch()},'#content':function(oldEl,newEl){oldEl.className=newEl.className,this.onSwitch()},'#header-title':Pjax.switches.outerHTML,'#subtitle-wrap':Pjax.switches.outerHTML,'#main':function(oldEl,newEl){loadScripts([...newEl.querySelectorAll('script')],0),oldEl.outerHTML=newEl.outerHTML,this.onSwitch()},'#mobile-nav':Pjax.switches.outerHTML,'#lazy-script':function(oldEl,newEl){loadScripts([...newEl.querySelectorAll('script')],0),oldEl.innerHTML=newEl.innerHTML,this.onSwitch()}},cacheBust:!1});</script> <script src="/js/pjax.js"></script> <div id="lazy-script"> <div> <script data-pjax>window.REIMU_POST={author:'D-Sketon',title:'不同版本Java对于Minecraft服务端spigot端的性能影响',url:'https://d-sketon.github.io/20220702/minecraft-server-comparison/',excerpt:'测试Java8和Java11下Hotspot和Openj9虚拟机对于Minecraft服务端spigot端的性能影响',description:'测试Java8和Java11下Hotspot和Openj9虚拟机对于Minecraft服务端spigot端的性能影响',stripContent:'众所周知，Bugjump在MC高版本下的优化稀烂，如此辣鸡的优化对于想要开服但手头上却只有1c2g或是2c4g渣机的服主来说是一个非常大的负担。 对于spigot，paper等非原版端的优化MCBBS上已经有非常多的帖子，优化的方式基本上可以分为三类：  修改bukkit.yml、spigot.yml和paper.yml等配置 增加区块卸载和清理掉落物等优化插件 修改Java启动参数和Java版本  但实际上，修改配置文件产生的效果并不明显，且过分的修改参数会对游戏体验产生影响。而有关区块卸载、',date:'Sat Jul 02 2022 10:48:31 GMT+0800',updated:'Sat Nov 11 2023 13:34:34 GMT+0800',cover:'/images/banner.webp'};</script> <script src="/js/insert_highlight.js" data-pjax></script> <script src="https://npm.webcache.cn/@zumer/snapdom@1.9.9/dist/snapdom.min.js" integrity="sha384-taz9Bq0wPqLsuiB4ix4blTozt&#x2F;y84cjbMX5ZWkfPPjpVBme8M&#x2F;jWopanNBcdH&#x2F;qp" crossorigin defer data-pjax></script> <script src="https://npm.webcache.cn/qrcode@1.5.1/build/qrcode.js" integrity="sha384-VT1EeewTCEXgndcPMQ0PzV+uVFYjxFIjmAA7s5gcMX9t4Dt5TD+OVQIn7NJWIXn7" crossorigin defer data-pjax></script> <script type="module" data-pjax>let PhotoSwipeLightbox=(await safeImport('https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe-lightbox.esm.min.js','sha384-DiL6M/gG+wmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF/N6lrZi/')).default,pswp=()=>{0<_$$('.article-entry a.article-gallery-item').length&&new PhotoSwipeLightbox({gallery:'.article-entry',children:'a.article-gallery-item',pswpModule:()=>safeImport('https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js','sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s')}).init(),0<_$$('.article-gallery a.article-gallery-item').length&&new PhotoSwipeLightbox({gallery:'.article-gallery',children:'a.article-gallery-item',pswpModule:()=>safeImport('https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js','sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s')}).init(),window.lightboxStatus='done',window.removeEventListener('lightbox:ready',pswp)};'ready'===window.lightboxStatus?pswp():window.addEventListener('lightbox:ready',pswp);</script> <script data-pjax>var savedCommentType,configDefault,loadScript=(src,integrity)=>{var script=document.createElement('script');return script.src=src,integrity&&(script.integrity=integrity),script.crossOrigin='anonymous',script},commentConfigKeys=['valine','waline','twikoo','gitalk','giscus'],commentConfig={valine:{enable:!1,load:()=>{var container=document.querySelector('.valine-comment');container&&(container.style.display='block',(container=loadScript('https://npm.webcache.cn/valine@1.5.1/dist/Valine.min.js','sha384-3ma91AExDeMAZ1rjTjaP8V2A2obQE+s5ltKRwYlwdpArz9xVbp0tF3b0VV2ACNPn')).onload=()=>{var GUEST_INFO=['nick','mail','link'],guest_info='nick,mail,link'.split(',').filter(item=>-1<GUEST_INFO.indexOf(item)),recordIP=JSON.parse('true'),highlight=JSON.parse('true'),visitor=JSON.parse('true');window.Valine&&new Valine({el:'.valine-comment',appId:'7XTou6Ifi3EHQd8LvW2cOOLS-MdYXbMMI',appKey:'n3fNfPzdEX4CW57QrUts3pab',placeholder:'Just go go',pageSize:'10',avatar:'mp',lang:document.documentElement.lang||'en',recordIP:recordIP,highlight:highlight,visitor:visitor,requiredFields:guest_info,path:window.location.pathname,serverURLs:'https://7xtou6if.api.lncldglobal.com'})},document.head.appendChild(container))}},waline:{enable:!0,load:async()=>{var container=document.querySelector('.waline-comment');container&&(container.style.display='block',container=(await safeImport('https://npm.webcache.cn/@waline/client@2.15.8/dist/waline.mjs','sha384-9sbqJjrfGjbkI6/PI4nU/MvBfEmkkPC4YK9I4zBeMIf1CVCZdCMH/KinBEAZII/5')).init,window.walineInstance=container({el:'.waline-comment',serverURL:'https://reimu.d-sketon.top',lang:document.documentElement.lang||'en',locale:{},emoji:['https://unpkg.com/@waline/emojis@1.2.0/weibo','https://unpkg.com/@waline/emojis@1.2.0/alus','https://unpkg.com/@waline/emojis@1.2.0/bilibili','https://unpkg.com/@waline/emojis@1.2.0/qq','https://unpkg.com/@waline/emojis@1.2.0/tieba','https://unpkg.com/@waline/emojis@1.2.0/tw-emoji'],meta:['nick','mail','link'],requiredMeta:['nick','mail'],wordLimit:JSON.parse('0'),comment:!0,pageSize:JSON.parse('10'),dark:'html[data-theme="dark"]',pageview:JSON.parse('true')}))}},twikoo:{enable:!1,load:()=>{var container=document.querySelector('.twikoo-comment');container&&(container.style.display='block',(container=loadScript('https://npm.webcache.cn/twikoo@1.6.44/dist/twikoo.all.min.js','sha384-kwWLC0HjeZZnVPqCJ1AncI8tsk+kQqF9TbAmCclcc9Z0hGkfgHRzeQZxmdmZhE0K')).onload=()=>{window.twikoo&&(twikoo.init({envId:'https://deft-meerkat-12027e.netlify.app/.netlify/functions/twikoo',el:'.twikoo-comment',region:'',lang:document.documentElement.lang||'en'}),twikoo.getCommentsCount({envId:'https://deft-meerkat-12027e.netlify.app/.netlify/functions/twikoo',region:'',urls:['/about/index.html'],includeReply:!1}).then(res=>{_$('.twikoo-comment-count').innerText=res[0].count}).catch(err=>{console.error(err)}))},document.head.appendChild(container))}},gitalk:{enable:!1,load:()=>{var container=document.querySelector('.gitalk-comment');function initGitalk(){var gitalkId=window.md5?window.md5(location.pathname):location.pathname;new Gitalk({clientID:'Ov23ligyao8YeHI0lpdF',clientSecret:'35e2f7007b2b138c15545d25b568f5a9fda64078',repo:'reimu-playground',owner:'D-Sketon',admin:'D-Sketon',id:gitalkId,distractionFreeMode:!1,language:document.documentElement.lang||'en'}).render('gitalk-comment')}container&&(container.style.display='block',(container=loadScript('https://npm.webcache.cn/gitalk@1.8.0/dist/gitalk.min.js','sha384-kspnZUWBoSWwoJHa0hBCXYbHGbhvU/lcEH5O8eVbSDhbPwsiVUTp/aGX/z/5EuMA')).onload=()=>{var md5Script=loadScript('https://npm.webcache.cn/blueimp-md5@2.19.0/js/md5.min.js','sha384-JmVtRz6RWiXnA14QbIOJzPuU3MidULOpBP66deeLLyyoF4Tr/gZlbkHkL6vTthxH');md5Script.onload=initGitalk,document.head.appendChild(md5Script)},document.head.appendChild(container))}},giscus:{enable:!1,load:()=>{var existingScript,domMode,langBase,supportedLangs,docLang,container=document.querySelector('.giscus-comment');container&&(container.style.display='block',(existingScript=container.querySelector('script[src*="giscus.app/client.js"]'))&&existingScript.remove(),(existingScript=document.querySelector('iframe.giscus-frame'))&&existingScript.remove(),existingScript=document.createElement('script'),domMode=document.documentElement.getAttribute('data-theme'),langBase=(docLang=document.documentElement.lang||'en').split('-')[0],docLang=(supportedLangs=['ar','be','bg','ca','cs','da','de','en','eo','es','eu','fa','fr','gr','hbs','he','hu','id','it','ja','kh','ko','nl','pl','pt','ro','ru','th','tr','uk','uz','vi','zh-CN','zh-HK','zh-TW']).includes(docLang)?docLang:supportedLangs.includes(langBase)?langBase:'en',existingScript.src='https://giscus.app/client.js',existingScript.setAttribute('data-repo','D-Sketon/reimu-playground'),existingScript.setAttribute('data-repo-id','R_kgDOLp13qw'),existingScript.setAttribute('data-category','Announcements'),existingScript.setAttribute('data-category-id','DIC_kwDOLp13q84Cec98'),existingScript.setAttribute('data-mapping','0'),existingScript.setAttribute('data-strict','0'),existingScript.setAttribute('data-reactions-enabled','1'),existingScript.setAttribute('data-emit-metadata','0'),existingScript.setAttribute('data-input-position','bottom'),existingScript.setAttribute('data-theme','dark'===domMode?'dark':'light'),existingScript.setAttribute('data-lang',docLang),existingScript.setAttribute('crossorigin','anonymous'),existingScript.async=!0,container.appendChild(existingScript),document.body.addEventListener('light-theme-set',()=>{var iframe=document.querySelector('iframe.giscus-frame');iframe&&iframe.contentWindow.postMessage({giscus:{setConfig:{theme:'light'}}},'https://giscus.app')}),document.body.addEventListener('dark-theme-set',()=>{var iframe=document.querySelector('iframe.giscus-frame');iframe&&iframe.contentWindow.postMessage({giscus:{setConfig:{theme:'dark'}}},'https://giscus.app')}))}}},defaultComment=(commentConfig.enable=commentConfigKeys.some(key=>commentConfig[key].enable),'');function loadComments(){if(commentConfig.enable){let loadedComments={valine:!1,waline:!1,twikoo:!1,gitalk:!1,giscus:!1},hideAllComments=()=>{document.querySelectorAll('.comment').forEach(container=>{container.style.display='none'})},loadCommentSystem=type=>{loadedComments[type]?document.querySelector(`.${type}-comment`).style.display='block':(commentConfig[type]?.load(),loadedComments[type]=!0)};var commentInit=()=>{var defaultSelectorItem;for(let item of document.querySelectorAll('.selector-item'))item.addEventListener('click',()=>{var commentType=item.getAttribute('data-selector');window.localStorage.setItem('commentType',commentType),(item=>{var commentItems=document.querySelectorAll('.selector-item');for(let i=0;i<commentItems.length;i++)commentItems[i].classList.remove('active');item.classList.add('active');item=item.getAttribute('data-selector');hideAllComments(),loadCommentSystem(item)})(item)});defaultComment&&(defaultSelectorItem=document.querySelector(`[data-selector="${defaultComment}"]`))&&(defaultSelectorItem.style.display='block',defaultSelectorItem.classList.add('active'),loadCommentSystem(defaultComment))};'loading'===document.readyState?document.addEventListener('DOMContentLoaded',commentInit):commentInit()}}commentConfig.enable&&(savedCommentType=localStorage.getItem('commentType'),(defaultComment=savedCommentType&&commentConfig[savedCommentType]?.enable?savedCommentType:defaultComment)||commentConfig[configDefault='waline']?.enable&&(defaultComment=configDefault),defaultComment=defaultComment||commentConfigKeys.find(sys=>commentConfig[sys].enable)||''),loadComments();</script> </div> </div> <script>console.log(String.raw`%c 
 ______     ______     __     __    __     __  __    
/\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
\ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
 \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
  \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                  
`,'color: #ff5252;'),console.log('%c Theme.Reimu v1.9.2 %c https://github.com/D-Sketon/hexo-theme-reimu ','color: white; background: #ff5252; padding:5px 0;','padding:4px;border:1px solid #ff5252;');</script> <script src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js" integrity="sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S" crossorigin async></script> <script>'serviceWorker'in navigator&&navigator.serviceWorker.getRegistrations().then(registrations=>{for(var registration of registrations)registration.unregister()});</script> <script src="https://npm.webcache.cn/aplayer@1.10.1/dist/APlayer.min.js" integrity="sha384-gdGYZwHnfJM54evoZhpO0s6ZF5BQiybkiyW7VXr+h5UfruuRL&#x2F;aORyw+5+HZoU6e" crossorigin></script> <script>var meting_api='https://api.injahow.cn/meting/?server=:server&type=:type&id=:id&auth=:auth&r=:r';</script> <script>var isMobile=window.matchMedia('(max-width: 959px)').matches;if(isMobile){let meting=_$('meting-js');if(meting){meting.setAttribute('fixed','true');let aside=meting.parentNode?.parentNode;'ASIDE'===aside?.tagName&&(meting.parentNode.removeChild(meting),document.body.appendChild(meting))}}</script> <script src="https://npm.webcache.cn/meting@2.0.1/dist/Meting.min.js" integrity="sha384-ASVlpKF80A22OXTK3tfEjZm1EL6uFMKIC4p8+0maanw1S&#x2F;IyB+Y4JG+ZDU7GpKE8" crossorigin></script> </body></html>