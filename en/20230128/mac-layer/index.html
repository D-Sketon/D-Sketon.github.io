<!DOCTYPE html><html lang="en" data-theme-mode="auto"><head><link rel="preconnect" href="https://npm.webcache.cn" crossorigin><link rel="dns-prefetch" href="https://npm.webcache.cn" crossorigin><meta charset="utf-8"><script async src="https://hm.baidu.com/hm.js?55ca897d064d6eb98df32d62c6984cc0"></script><script data-pjax>var _hmt=_hmt||[];_hmt.push(['_trackPageview',location.pathname]);</script><script>window.REIMU_CONFIG={},window.REIMU_CONFIG.icon_font='4552607_4k4bc36ef96',window.REIMU_CONFIG.clipboard_tips={success:{'zh-CN':'复制成功 (*^▽^*)',en:'Copy successfully (*^▽^*)'},fail:{'zh-CN':'复制失败 (ﾟ⊿ﾟ)ﾂ',en:'Copy failed (ﾟ⊿ﾟ)ﾂ'},copyright:{enable:!1,count:50,license_type:'by-nc-sa'}},window.REIMU_CONFIG.clipboard_tips.copyright.content='本博客所有文章除特别声明外，均采用 BY-NC-SA 许可协议。转载请注明出处！',window.REIMU_CONFIG.code_block={expand:!0},window.REIMU_CONFIG.base='https://d-sketon.github.io',window.REIMU_CONFIG.i18n_languages=['en'];</script><title> 计算机网络-介质访问控制子层 学习笔记 | 拔剑Sketon </title><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link rel="preload" as="style" href="https://fontsapi.zeoseven.com/292/main/result.css" onload="this.rel&#x3D;&#39;stylesheet&#39;" crossorigin><link rel="preload" href="//at.alicdn.com/t/c/font_4552607_4k4bc36ef96.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="/css/loader.css"><meta name="description" content="计算机网络-介质访问控制子层 学习笔记"><meta property="og:type" content="article"><meta property="og:title" content="计算机网络-介质访问控制子层 学习笔记"><meta property="og:url" content="https://d-sketon.github.io/en/20230128/mac-layer/index.html"><meta property="og:site_name" content="拔剑Sketon"><meta property="og:description" content="计算机网络-介质访问控制子层 学习笔记"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2023-01-28T04:21:53.000Z"><meta property="article:modified_time" content="2025-02-02T03:36:59.582Z"><meta property="article:author" content="D-Sketon"><meta property="article:tag" content="计算机网络"><meta name="twitter:card" content="summary"><link rel="alternate" href="/atom.xml" title="拔剑Sketon" type="application/atom+xml"><link rel="icon shortcut" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><link rel="preload" as="style" onload="this.onload&#x3D;null;this.rel&#x3D;&#39;stylesheet&#39;" href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css" integrity="sha384-IfxC36XL&#x2F;toUyJ939C73PcgMuRzAZuIzZxE38drsmO5p6jD7ei+Zx&#x2F;1oA&#x2F;0l8ysE" crossorigin><link rel="stylesheet" href="https://npm.webcache.cn/katex@0.16.24/dist/katex.min.css" integrity="sha384-tTgKLjMYmJr94v8qu2PE5MUGSMbyN2xiH266JUB3gpm8vnnJywd1dWSOEfrFz+YI" crossorigin><link rel="stylesheet" href="https://npm.webcache.cn/@waline/client@2.15.8/dist/waline.css" integrity="sha384-vltfZtesCdl6NYVcFVcjEaIi5RpNvZe9t7fXvq8twVtcoy+Ub9QgnxUYJmwOhYCK" crossorigin><link rel="stylesheet" href="https://npm.webcache.cn/@reimujs/aos@0.1.2/dist/aos.css" integrity="sha384-GMRP93c6Hkz9JVKGAuRR3nTS7M07RwPgTFenXiosjq2VbVgvdDNcz1g6Mkj8AONa" crossorigin><link rel="preload" as="style" onload="this.onload&#x3D;null;this.rel&#x3D;&#39;stylesheet&#39;" href="https://npm.webcache.cn/aplayer@1.10.1/dist/APlayer.min.css" integrity="sha384-tLMkTWh2pfXNWGFlUS0w1TFtRG5xZ9lPWFOooj+vDDLIL+xBGQU&#x2F;voDBY5XE2lVh" crossorigin><meta name="generator" content="Hexo 8.1.1"></head><body> <div id="loader"> <div class="loading-bg loading-left-bg"></div> <div class="loading-bg loading-right-bg"></div> <div class="spinner-box"> <div class="loading-taichi rotate"> <svg width="150" height="150" viewbox="0 0 1024 1024" class="icon" version="1.1" xmlns="https://www.w3.org/2000/svg" shape-rendering="geometricPrecision"> <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="var(--red-1, #ff5252)"></path> <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z 
           M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="var(--red-1, #ff5252)"></path> </svg> </div> <div class="loading-word">Loading...</div> </div> </div> <script>var time=null,loaderEl=document.getElementById('loader'),startLoading=()=>{time=Date.now(),loaderEl.classList.remove('loading')},hideLoader=()=>{document.body.style.overflow='auto',loader.classList.add('loading')},endLoading=()=>{time?500<Date.now()-time?(time=null,hideLoader()):(setTimeout(endLoading,500-(Date.now()-time)),time=null):hideLoader()};window.addEventListener('DOMContentLoaded',endLoading),loaderEl.addEventListener('click',endLoading);</script> <div id="copy-tooltip"></div> <div id="heatmap-tooltip"></div> <div id="container"> <div id="wrap"> <div id="header-nav"> <nav id="main-nav" aria-label="Primary navigation"> <a class="main-nav-link-wrap" href="/en/"> <div class="icon main-nav-icon rotate"> &#xe62b; </div> <span class="main-nav-link">Home</span> <a class="main-nav-link-wrap" href="/en/archives"> <div class="icon main-nav-icon rotate"> &#xe62b; </div> <span class="main-nav-link">Archives</span> <a class="main-nav-link-wrap" href="/en/about"> <div class="icon main-nav-icon rotate"> &#xe62b; </div> <span class="main-nav-link">About</span> <a class="main-nav-link-wrap" href="/en/friend"> <div class="icon main-nav-icon rotate"> &#xe62b; </div> <span class="main-nav-link">Friend</span> <a id="main-nav-toggle" class="nav-icon" aria-label="Toggle navigation" role="button"></a> </a></a></a></a></nav> <nav id="sub-nav" aria-label="Secondary navigation"> <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed" aria-label="RSS Feed" target="_blank"></a> <a id="nav-search-btn" class="nav-icon popup-trigger" title="Search" aria-label="Search"></a> </nav> <nav id="i18n-nav" aria-label="Language selection"> <div class="custom-dropdown"> <div class="select-selected" id="select-selected" role="button" aria-haspopup="listbox" aria-expanded="false" aria-label="Language menu"> <span id="nav-language-btn" class="nav-icon" style="padding:0 20px 0 0"></span> <span id="selected-lang">English</span> </div> <ul class="select-items" id="select-items" role="listbox" aria-label="Languages"> <li data-value="zh-CN" role="option" aria-selected="false">简体中文</li> <li data-value="en" role="option" class="selected" aria-selected="true">English</li> </ul> </div> <script>var selectSelected=document.getElementById('select-selected'),selectedLang=document.getElementById('selected-lang'),selectItems=document.getElementById('select-items'),selectOptions=selectItems.querySelectorAll('li');selectSelected.addEventListener('click',()=>{selectItems.classList.toggle('show');var expanded='true'===selectSelected.getAttribute('aria-expanded');selectSelected.setAttribute('aria-expanded',(!expanded).toString())}),selectOptions.forEach(item=>{item.addEventListener('click',()=>{var langMap={'zh-CN':'/20230128/mac-layer/',en:'/en/20230128/mac-layer/'};selectedLang.textContent=item.textContent,selectItems.classList.remove('show'),selectOptions.forEach(option=>{option.classList.remove('selected')}),item.classList.add('selected'),window.location=langMap[item.dataset.value]})}),document.addEventListener('click',event=>{event.target.closest('.custom-dropdown')||(selectItems.classList.remove('show'),selectSelected.setAttribute('aria-expanded','false'))});</script> </nav> <a href="https://github.com/D-Sketon/hexo-theme-reimu" class="triangle-badge" title="github" target="_blank" rel="nofollow noopener noreferrer"> <div class="icon icon-github triangle-badge-icon"></div> </a> </div> <header id="header" aria-label="Site header"> <picture> <source media="(max-width: 479px)" srcset="/images/banner-600w.webp"> <source media="(max-width: 799px)" srcset="/images/banner-800w.webp"> <source media="(min-width: 800px)" srcset="/images/banner.webp"> <img fetchpriority="high" src="/images/banner.webp" alt="计算机网络-介质访问控制子层 学习笔记"> </picture> <img alt="计算机网络-介质访问控制子层 学习笔记" style="visibility:hidden"> <div id="header-outer"> <div id="header-title"> <span id="logo"> <h1 data-aos="slide-up">计算机网络-介质访问控制子层 学习笔记</h1> </span> <h2 id="subtitle-wrap" data-aos="slide-down"> </h2> </div> </div> </header> <div id="content" aria-label="Page content" class="sidebar-left"> <aside id="sidebar" aria-label="Sidebar"> <div class="sidebar-wrapper-container sticky"> <meting-js theme="var(--color-link)" id="2265921590" server="netease" type="playlist" order="random" list-folded="true"></meting-js> <div class="sidebar-wrapper"> <div class="sidebar-wrap" data-aos="fade-up"> <div class="sidebar-toc-sidebar"><h3 class="toc-title">Contents</h3> <div class="sidebar-toc-wrapper toc-div-class"> <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%86%E9%85%8D%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text"> 信道分配问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%BF%A1%E9%81%93%E5%88%86%E9%85%8D%E7%9A%84%E5%81%87%E8%AE%BE"><span class="toc-number">1.1.</span> <span class="toc-text"> 动态信道分配的假设</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.</span> <span class="toc-text"> 多访问协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#aloha"><span class="toc-number">2.1.</span> <span class="toc-text"> ALOHA</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%AFaloha"><span class="toc-number">2.1.1.</span> <span class="toc-text"> 纯ALOHA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%A7%BDaloha"><span class="toc-number">2.1.2.</span> <span class="toc-text"> 分槽ALOHA</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#csma"><span class="toc-number">2.2.</span> <span class="toc-text"> CSMA</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E5%86%B2%E7%AA%81%E6%A3%80%E6%B5%8B%E7%9A%84csma"><span class="toc-number">2.2.1.</span> <span class="toc-text"> 带冲突检测的CSMA</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E5%86%B2%E7%AA%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.3.</span> <span class="toc-text"> 无冲突协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E5%9B%BE%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.3.1.</span> <span class="toc-text"> 位图协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A4%E7%89%8C%E4%BC%A0%E9%80%92"><span class="toc-number">2.3.2.</span> <span class="toc-text"> 令牌传递</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%80%92%E8%AE%A1%E6%95%B0"><span class="toc-number">2.3.3.</span> <span class="toc-text"> 二进制倒计数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E9%99%90%E7%AB%9E%E4%BA%89%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.4.</span> <span class="toc-text"> 有限竞争协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.4.1.</span> <span class="toc-text"> 自适应树遍历协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.5.</span> <span class="toc-text"> 无线局域网协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E7%BB%88%E7%AB%AF"><span class="toc-number">2.5.1.</span> <span class="toc-text"> 隐藏终端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E9%9C%B2%E7%BB%88%E7%AB%AF"><span class="toc-number">2.5.2.</span> <span class="toc-text"> 暴露终端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%B2%E7%AA%81%E9%81%BF%E5%85%8D%E5%A4%9A%E8%B7%AF%E8%AE%BF%E9%97%AEmaca"><span class="toc-number">2.5.3.</span> <span class="toc-text"> 冲突避免多路访问（MACA）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.</span> <span class="toc-text"> 以太网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.1.</span> <span class="toc-text"> 经典以太网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#beb"><span class="toc-number">3.1.1.</span> <span class="toc-text"> BEB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%92%AD%E7%BB%84%E6%92%AD%E5%A4%9A%E6%92%AD"><span class="toc-number">3.1.2.</span> <span class="toc-text"> 单播&#x2F;组播&#x2F;多播</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD"><span class="toc-number">3.1.3.</span> <span class="toc-text"> 性能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%BC%8F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.2.</span> <span class="toc-text"> 交换式以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.3.</span> <span class="toc-text"> 快速以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%83%E5%85%8610%E5%8D%83%E5%85%86%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.4.</span> <span class="toc-text"> 千兆&#x2F;10千兆以太网</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">4.</span> <span class="toc-text"> 无线局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#80211%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%92%8C%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">4.1.</span> <span class="toc-text"> 802.11体系结构和协议栈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#80211%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">4.2.</span> <span class="toc-text"> 802.11物理层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#80211mac%E5%AD%90%E5%B1%82"><span class="toc-number">4.3.</span> <span class="toc-text"> 802.11MAC子层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#80211%E5%B8%A7%E7%BB%93%E6%9E%84"><span class="toc-number">4.4.</span> <span class="toc-text"> 802.11帧结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E4%BA%A4%E6%8D%A2"><span class="toc-number">5.</span> <span class="toc-text"> 数据链路层交换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E7%BD%91%E6%A1%A5"><span class="toc-number">5.1.</span> <span class="toc-text"> 学习网桥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E6%A0%91%E7%BD%91%E6%A1%A5"><span class="toc-number">5.2.</span> <span class="toc-text"> 生成树网桥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">5.3.</span> <span class="toc-text"> 虚拟局域网</span></a></li></ol></li></ol> </div> </div> <div class="hidden sidebar-common-sidebar"><div class="sidebar-author"> <img data-src="/avatar/avatar.webp" data-sizes="auto" alt="D-Sketon" class="lazyload"> <div class="sidebar-author-name">D-Sketon</div> <div class="sidebar-description">D-Sketon&#39;s blog</div> </div> <div class="sidebar-state"> <div class="sidebar-state-article"> <div>Post</div> <div class="sidebar-state-number">74</div> </div> <div class="sidebar-state-category"> <div>Category</div> <div class="sidebar-state-number">10</div> </div> <div class="sidebar-state-tag"> <div>Tag</div> <div class="sidebar-state-number">20</div> </div> </div> <div class="sidebar-social"> <div class="icon-github sidebar-social-icon"> <a href="https://github.com/D-Sketon" itemprop="url" target="_blank" aria-label="github" rel="nofollow noopener noreferrer"></a> </div> <div class="icon-bilibili sidebar-social-icon"> <a href="https://space.bilibili.com/20339857" itemprop="url" target="_blank" aria-label="bilibili" rel="nofollow noopener noreferrer"></a> </div> </div> <div class="sidebar-menu"> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/en/" aria-label="Home"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">Home</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/en/archives" aria-label="Archives"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">Archives</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/en/about" aria-label="About"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">About</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/en/friend" aria-label="Friend"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">Friend</div> </div> </div> </div> <div class="sidebar-btn-wrapper" style="position:static"> <div class="current sidebar-toc-btn"></div> <div class="sidebar-common-btn"></div> </div> </div> </div> <div class="sidebar-widget"> </div> </div> </aside> <section id="main" aria-label="Main content"><article id="post-计算机网络-介质访问控制子层 学习笔记" class="article h-entry" itemscope itemtype="https://schema.org/BlogPosting"> <div class="article-inner" data-aos="fade-up"> <div class="article-meta"> <div class="article-date"> <span class="article-date-link icon-calendar" data-aos="zoom-in"> <time datetime="2023-01-28T04:21:53.000Z" itemprop="datePublished">2023-01-28</time> <time style="display:none" id="post-update-time">2025-02-02</time> </span> </div> <div class="article-category"> <a class="article-category-link" href="/en/categories/%E8%AE%A1%E8%BD%AF%E6%9D%82%E8%B0%88/" title="计软杂谈">计软杂谈</a><a class="article-category-link" href="/en/categories/%E8%AE%A1%E8%BD%AF%E6%9D%82%E8%B0%88/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="学习笔记">学习笔记</a> </div> </div> <div class="hr-line"></div> <div class="article-entry e-content" itemprop="articleBody"> <ul> <li>负责确定多路访问信道下一个使用者</li> <li>数据链路层的一个重要部分，特别是对于局域网</li> </ul> <h2 id="信道分配问题"><a class="markdownIt-Anchor" href="#信道分配问题"></a> 信道分配问题</h2> <ul> <li>用于来自N个用户的固定通道和流量 <ul> <li>使用FDM、TDM、CDMA等划分带宽</li> <li>这是一种静态分配，例如调频收音机</li> <li>这种静态分配对于突发流量的性能很差</li> <li>分配给用户的资源有时会被闲置</li> </ul> </li> <li>动态分配在用户需要时为其提供通道 <ul> <li>对于N个用户，效率可能是N倍</li> </ul> </li> </ul> <h3 id="动态信道分配的假设"><a class="markdownIt-Anchor" href="#动态信道分配的假设"></a> 动态信道分配的假设</h3> <ul> <li>流量独立</li> <li>单信道</li> <li>冲突可观察</li> <li>时间连续或分槽</li> <li>载波侦听或不听</li> </ul> <h2 id="多访问协议"><a class="markdownIt-Anchor" href="#多访问协议"></a> 多访问协议</h2> <h3 id="aloha"><a class="markdownIt-Anchor" href="#aloha"></a> ALOHA</h3> <ul> <li>由夏威夷大学的Norm Abramson开发</li> <li>完全分散协议</li> </ul> <h4 id="纯aloha"><a class="markdownIt-Anchor" href="#纯aloha"></a> 纯ALOHA</h4> <ul> <li>在纯ALOHA中，用户只要有数据就发送帧</li> <li>用户在发生冲突后选择随机的时间后重试 <ul> <li>低负载下的高效低延迟</li> </ul> </li> <li>当其他用户在两倍于帧时间的脆弱时段内传输时，会发生冲突</li> <li>将发送端与时间槽同步可以减少冲突 <ul> <li>帧时间：帧长度除以比特率</li> </ul> </li> <li>吞吐量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mi>G</mi><mo>×</mo><msup><mi>e</mi><mrow><mo stretchy="false">(</mo><mo>−</mo><mn>2</mn><mi>G</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">S = G \times e^ {(-2G)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mathnormal mord" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mathnormal mord">G</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.888em"></span><span class="mord"><span class="mathnormal mord">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.888em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">−</span><span class="mord mtight">2</span><span class="mathnormal mord mtight">G</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></li> <li>最大吞吐量出现在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>=</mo><mn>0.5</mn><mo separator="true">,</mo><mi>S</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mn>2</mn><mi>e</mi><mo>=</mo><mn>18.4</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">G = 0.5, S = 1/2e = 18.4\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mathnormal mord">G</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8778em;vertical-align:-.1944em"></span><span class="mord">0.5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mathnormal mord" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1/2</span><span class="mathnormal mord">e</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8056em;vertical-align:-.0556em"></span><span class="mord">18.4%</span></span></span></span></li> </ul> <h4 id="分槽aloha"><a class="markdownIt-Anchor" href="#分槽aloha"></a> 分槽ALOHA</h4> <ul> <li>分槽ALOHA的效率是纯ALOHA的两倍</li> <li>低负载浪费时间槽，高负载导致碰撞</li> <li>吞吐量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>=</mo><mi>G</mi><mo>×</mo><msup><mi>e</mi><mrow><mo stretchy="false">(</mo><mo>−</mo><mi>G</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">S = G \times e^ {(-G)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mathnormal mord" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mathnormal mord">G</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.888em"></span><span class="mord"><span class="mathnormal mord">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.888em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="mtight reset-size6 size3 sizing"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">−</span><span class="mathnormal mord mtight">G</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></li> <li>最大吞吐量出现在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>S</mi><mo>=</mo><mn>1</mn><mi mathvariant="normal">/</mi><mi>e</mi><mo>=</mo><mn>36.8</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">G = 1, S = 1/e = 36.8\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mathnormal mord">G</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8778em;vertical-align:-.1944em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mathnormal mord" style="margin-right:.05764em">S</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1/</span><span class="mathnormal mord">e</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8056em;vertical-align:-.0556em"></span><span class="mord">36.8%</span></span></span></span></li> </ul> <h3 id="csma"><a class="markdownIt-Anchor" href="#csma"></a> CSMA</h3> <ul> <li>CSMA通过感知信道改进了ALOHA <ul> <li>如果用户感觉到其他人，则不会发送</li> <li>“先感知后传输”或“先听后说”的原则</li> </ul> </li> <li>1-坚持CSMA持续侦听，一有空闲立即发送</li> <li>非坚持CSMA如果侦听存在载波，则等待随机时间，然后重复上述步骤，会带来更大延迟，但有更好的信道利用率</li> <li>p-坚持CSMA试用与分时间槽的信道。如果侦听时信道空闲，则按概率p发送数据，概率1-p推迟到下一个时间槽，如果发生冲突，则等待随机时间，然后重复上述步骤</li> </ul> <h4 id="带冲突检测的csma"><a class="markdownIt-Anchor" href="#带冲突检测的csma"></a> 带冲突检测的CSMA</h4> <ul> <li>CSMA/CD的改进是检测/中止冲突</li> <li>减少竞争时间以提高性能</li> <li>一个站在发送帧后监听介质，以查看传输是否成功 <ul> <li>如果是这样的话，这个站就结束了</li> <li>如果发生碰撞，将立即终止发送，随机等待一段时间后帧将再次发送</li> </ul> </li> <li>一个站传输了2τ后没有监听到冲突，则可以确保自己抓住了信道（τ为两个相距最远的站传播信号所需要的时间）</li> </ul> <h3 id="无冲突协议"><a class="markdownIt-Anchor" href="#无冲突协议"></a> 无冲突协议</h3> <ul> <li>无冲突协议完全避免冲突</li> <li>发送方必须知道何时轮到他们发送</li> </ul> <h4 id="位图协议"><a class="markdownIt-Anchor" href="#位图协议"></a> 位图协议</h4> <ul> <li>如果发送方有数据，则在竞争槽中设置一位</li> <li>发送者依次发送；每个人都知道谁有数据</li> </ul> <h4 id="令牌传递"><a class="markdownIt-Anchor" href="#令牌传递"></a> 令牌传递</h4> <ul> <li>令牌发送环定义发送顺序 <ul> <li>具有令牌的站点可以在通过之前发送帧</li> <li>也可以在没有环的情况下使用，例如令牌总线</li> </ul> </li> </ul> <h4 id="二进制倒计数"><a class="markdownIt-Anchor" href="#二进制倒计数"></a> 二进制倒计数</h4> <ul> <li>二进制倒计数改进了位图协议</li> <li>站点在争用插槽中以二进制位串的形式广播自己的地址</li> <li>异或这些位；站点在发送“0”但异或结果为“1”时放弃</li> </ul> <h3 id="有限竞争协议"><a class="markdownIt-Anchor" href="#有限竞争协议"></a> 有限竞争协议</h3> <ul> <li>在低负载下采用竞争的做法而提供较短的延迟，而在高负载下采用无冲突技术，从而获得良好的信道效率</li> <li>将站分成几组，其中只有很少一部分可能想要发送 <ul> <li>避免因空闲时间和冲突而造成的浪费</li> </ul> </li> </ul> <h4 id="自适应树遍历协议"><a class="markdownIt-Anchor" href="#自适应树遍历协议"></a> 自适应树遍历协议</h4> <ul> <li>树将站点分成组（节点）进行轮询 <ul> <li>深度优先搜索具有冲突的节点下的树</li> <li>如果&gt;1个站点，则在较低层开始搜索</li> </ul> </li> </ul> <h3 id="无线局域网协议"><a class="markdownIt-Anchor" href="#无线局域网协议"></a> 无线局域网协议</h3> <ul> <li>与有线相比，无线具有复杂性</li> <li>节点可能具有不同的覆盖区域，这导致了隐藏终端和暴露终端</li> <li>节点无法检测冲突，即发送时无法感知冲突，这使碰撞变得昂贵且必须避免</li> </ul> <h4 id="隐藏终端"><a class="markdownIt-Anchor" href="#隐藏终端"></a> 隐藏终端</h4> <ul> <li>隐藏终端是发送方，它们不能相互感知，但会在预期的接收方处发生碰撞</li> </ul> <h4 id="暴露终端"><a class="markdownIt-Anchor" href="#暴露终端"></a> 暴露终端</h4> <ul> <li>暴露终端是能够相互感知但仍能安全传输（到不同接收器）的发送方</li> </ul> <h4 id="冲突避免多路访问maca"><a class="markdownIt-Anchor" href="#冲突避免多路访问maca"></a> 冲突避免多路访问（MACA）</h4> <ul> <li>MACA协议授予A发送给B的访问权： <ul> <li>A向B发送RTS；B回复CTS</li> <li>A可以使用暴露但不隐藏的终端进行发送</li> </ul> </li> </ul> <h2 id="以太网"><a class="markdownIt-Anchor" href="#以太网"></a> 以太网</h2> <h3 id="经典以太网"><a class="markdownIt-Anchor" href="#经典以太网"></a> 经典以太网</h3> <ul> <li>一条共享同轴电缆，所有主机都连接到该电缆</li> <li>高达10 Mbps，采用曼彻斯特编码</li> <li>主机运行经典的以太网协议进行访问</li> <li>MAC协议是1-persistent CSMA/CD（早期）</li> <li>使用BEB（二进制指数后退的CSMA/CA）计算碰撞后的随机延迟（后退）</li> <li>帧格式仍然用于现代以太网 <ul> <li>DIX 前导码+目标地址+源地址+类型+数据+填充+校验和</li> <li>IEEE802.3 前导码（SOF）+目标地址+源地址+长度+数据+填充+校验和</li> <li>最大数据长度1500字节，最小数据长度46字节（帧最小数据长度64字节，为了有效冲突检测）</li> </ul> </li> </ul> <h4 id="beb"><a class="markdownIt-Anchor" href="#beb"></a> BEB</h4> <ul> <li>在第i次冲突后，从0-2^i-1之间选择一个随机数，等待这么多的时间槽</li> <li>达到10次冲突后，随机数的选择区间被固定在1023</li> <li>16次冲突后，放弃努力并返回一个失败报告</li> </ul> <h4 id="单播组播多播"><a class="markdownIt-Anchor" href="#单播组播多播"></a> 单播/组播/多播</h4> <ul> <li>要找到地址的类型，我们需要查看左边的第二个十六进制数字 <ul> <li>如果是偶数，则地址为单播</li> <li>如果是奇数，则地址为多播</li> <li>如果所有数字都是F，则为广播地址</li> </ul> </li> </ul> <h4 id="性能"><a class="markdownIt-Anchor" href="#性能"></a> 性能</h4> <ul> <li>适用于大帧，即使有多个发送者</li> <li>小帧（和长局域网）性能下降</li> </ul> <h3 id="交换式以太网"><a class="markdownIt-Anchor" href="#交换式以太网"></a> 交换式以太网</h3> <ul> <li>集线器将所有线路连接到单个CSMA/CD域中</li> <li>交换机将每个端口隔离到单独的域 <ul> <li>多端口的吞吐量要大得多</li> <li>无需使用带有全双工线路的CSMA/CD</li> </ul> </li> </ul> <h3 id="快速以太网"><a class="markdownIt-Anchor" href="#快速以太网"></a> 快速以太网</h3> <ul> <li>快速以太网扩展以太网，从10 Mbps扩展到100 Mbps <ul> <li>MAC子层保持不变</li> <li>为了保持帧的最小大小，网络电缆的最大长度应缩短10倍</li> <li>双绞线（5类）占据市场</li> </ul> </li> </ul> <h3 id="千兆10千兆以太网"><a class="markdownIt-Anchor" href="#千兆10千兆以太网"></a> 千兆/10千兆以太网</h3> <ul> <li>在计算机/交换机之间使用全双工线路</li> <li>地址长度、帧格式以及最大和最小帧长度保持不变。</li> <li>为了实现1 Gbps的数据速率，这不再可能保持MAC子层不变</li> <li>千兆以太网有两种不同的介质访问方法： <ul> <li><strong>半双工</strong>：与集线器一起使用。需要CSMA/CD。最大距离是传统以太网（2500m）的1/100倍（2500m-&gt;25m）</li> <li><strong>全双工</strong>：“正常”模式。用于中央交换机。所有的线路具有缓冲能力。没有竞争，无需CSMA/CD</li> </ul> </li> <li>增加半径的两个标准功能： <ul> <li><strong>载波扩充（carrier extension）</strong>：告诉硬件在正常帧（64字节）后添加自己的填充，以将帧扩展到512字节</li> <li><strong>帧突发（frame bursting）</strong>：允许发送方在一次传输中传输多个帧的串联序列</li> </ul> </li> <li>这两个功能将网络的半径扩展到200米</li> </ul> <h2 id="无线局域网"><a class="markdownIt-Anchor" href="#无线局域网"></a> 无线局域网</h2> <h3 id="80211体系结构和协议栈"><a class="markdownIt-Anchor" href="#80211体系结构和协议栈"></a> 802.11体系结构和协议栈</h3> <ul> <li>无线客户端与有线AP（接入点）关联 <ul> <li>这被称为基础设施模式；也有没有AP的自组织模式，较罕见</li> </ul> </li> <li>MAC用于不同的物理层</li> </ul> <h3 id="80211物理层"><a class="markdownIt-Anchor" href="#80211物理层"></a> 802.11物理层</h3> <ul> <li>网卡与多个物理层兼容 <ul> <li>例如802.11 a/b/g</li> </ul> </li> </ul> <h3 id="80211mac子层"><a class="markdownIt-Anchor" href="#80211mac子层"></a> 802.11MAC子层</h3> <ul> <li>CSMA/CA插入后退槽以避免冲突</li> <li>MAC对无线错误使用ACK/重传</li> </ul> <h3 id="80211帧结构"><a class="markdownIt-Anchor" href="#80211帧结构"></a> 802.11帧结构</h3> <ul> <li>帧因其类型而异（帧控制）</li> <li>数据帧有3个地址要通过AP传递</li> </ul> <h2 id="数据链路层交换"><a class="markdownIt-Anchor" href="#数据链路层交换"></a> 数据链路层交换</h2> <h3 id="学习网桥"><a class="markdownIt-Anchor" href="#学习网桥"></a> 学习网桥</h3> <ul> <li>后向学习算法选择输出端口： <ul> <li>将帧上的源地址与输入端口关联</li> <li>带有目标地址的帧被送到已经学习过的端口</li> <li>未学习的目的地将发送到所有其他端口（泛洪算法）</li> </ul> </li> </ul> <h3 id="生成树网桥"><a class="markdownIt-Anchor" href="#生成树网桥"></a> 生成树网桥</h3> <ul> <li>具有循环和只有反向学习的桥接拓扑将导致帧永远循环 <ul> <li>需要支持生成树来解决问题</li> </ul> </li> <li>数据转发端口的子集用于避免循环</li> <li>使用Perlman生成算法选择Perlman生成树</li> </ul> <h3 id="虚拟局域网"><a class="markdownIt-Anchor" href="#虚拟局域网"></a> 虚拟局域网</h3> <ul> <li>VLAN（虚拟LAN）将一个物理LAN拆分为多个逻辑LAN，以简化管理任务 <ul> <li>端口根据其VLAN“着色”</li> </ul> </li> </ul> </div> <footer class="article-footer"> <blockquote class="article-copyright"> <p><strong><span class="icon icon-user"></span>Author: </strong>D-Sketon</p> <p><strong><span class="icon icon-link"></span>Permalink: </strong><a href="https://d-sketon.github.io/en/20230128/mac-layer/">https://d-sketon.github.io/en/20230128/mac-layer/</a></p> <p><strong><span class="icon icon-copyright"></span>License: </strong>All articles on this blog are licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="nofollow noopener noreferrer" target="_blank"><span class="icon-creative-commons"></span>BY-NC-SA</a> license agreement unless otherwise stated. Please indicate the source when reprinting!</p> <span class="article-copyright-bg icon-creative-commons"></span> </blockquote> <div class="share-wrapper"> <a href="https://connect.qq.com/widget/shareqq/index.html?url=www.baidu.com&amp;title=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%AD%90%E5%B1%82%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0&amp;desc=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-%E4%BB%8B%E8%B4%A8%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%AD%90%E5%B1%82%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0&amp;source=https%3A%2F%2Fd-sketon.github.io" target="_blank" rel="noopener noreferrer" title="计算机网络-介质访问控制子层 学习笔记"> <div class="icon icon-qq share-icon"> </div> </a> <a href="javascript:;" title="计算机网络-介质访问控制子层 学习笔记"> <div class="icon icon-weixin share-icon"> <div id="share-weixin"> <div class="share-weixin-dom"> <div class="share-weixin-content"> <img id="share-weixin-banner"> <div id="share-weixin-title"></div> <div id="share-weixin-desc"></div> </div> <div class="share-weixin-qrcode"> <div class="share-weixin-info"> <div id="share-weixin-author"></div> <div id="share-weixin-theme">Powered By hexo-theme-reimu</div> </div> <img id="share-weixin-qr"> </div> </div> <div class="share-weixin-canvas"></div> </div> </div> </a> </div> <a data-aos="zoom-in" href="/en/20230128/mac-layer/#comments" class="article-comment-link"> <span class="post-comments-count waline-comment-count" data-path="/en/20230128/mac-layer/" itemprop="commentCount"></span> Comments </a> <span data-aos="zoom-in" class="article-visitor-link"> <span class="waline-pageview-count" data-path="/en/20230128/mac-layer/">0</span> <em class="post-meta-item-text">Readings</em> </span> <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item" data-aos="zoom-in"><a class="article-tag-list-link" href="/en/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag" title="计算机网络">计算机网络</a></li></ul> </footer> </div> <nav id="article-nav" aria-label="Article navigation" data-aos="fade-up"> <div class="article-nav-link-wrap left"> <img data-src="https://d-sketon.top/img/_backwebp480/bg1.webp" data-sizes="auto" alt="计算机网络-网络层 学习笔记" class="lazyload"> <a href="/en/20230128/network-layer/" aria-label="Prev: 计算机网络-网络层 学习笔记" title="Prev: 计算机网络-网络层 学习笔记"></a> <div class="article-nav-caption">Prev</div> <h3 class="article-nav-title"> 计算机网络-网络层 学习笔记 </h3> </div> <div class="article-nav-link-wrap right"> <img data-src="https://d-sketon.top/img/_backwebp480/bg11.webp" data-sizes="auto" alt="算法导论 学习笔记" class="lazyload"> <a href="/en/20221229/clrs-book-note/" aria-label="Next: 算法导论 学习笔记" title="Next: 算法导论 学习笔记"></a> <div class="article-nav-caption">Next</div> <h3 class="article-nav-title"> 算法导论 学习笔记 </h3> </div> </nav> </article> <section id="comments" data-aos="fade-up"> <div class="comment-header"> <h2 class="comment-title">Leave a comment</h2> <div class="comment-selector"> <div class="comment-selector-wrap"> <div class="selector-item" data-selector="waline"> <span>waline</span> </div> </div> </div> </div> <div class="comment-content"> <div class="comment waline-comment" data-aos="fade-up" id="waline-comment"> </div> </div> </section> </section> </div> <footer id="footer" aria-label="Site footer"> <div style="width:100%;overflow:hidden"> <div class="footer-line"></div> </div> <div id="footer-info"> <div> <span class="icon-copyright"></span> 2020-2025 <span class="footer-info-sep rotate"></span> D-Sketon </div> <div> Powered by&nbsp;<a href="https://hexo.io/" rel="nofollow noopener noreferrer" target="_blank">Hexo</a>&nbsp; Theme.<a href="https://github.com/D-Sketon/hexo-theme-reimu" rel="nofollow noopener noreferrer" target="_blank">Reimu</a> </div> <div> <span class="icon-brush"></span> 173.4k &nbsp;|&nbsp; <span class="icon-coffee"></span> 14:03 </div> <div> <span class="icon-eye"></span> <span id="busuanzi_container_site_pv">Number of visits&nbsp;<span id="busuanzi_value_site_pv"></span></span> &nbsp;|&nbsp; <span class="icon-user"></span> <span id="busuanzi_container_site_uv">Number of visitors&nbsp;<span id="busuanzi_value_site_uv"></span></span> </div> </div> </footer> <div class="sidebar-top"> <div class="rotate sidebar-top-taichi"></div> <div class="arrow-up"></div> </div> <div id="mask" class="hide"></div> </div> <nav id="mobile-nav" aria-label="Mobile navigation"> <div class="sidebar-wrap"> <div class="sidebar-toc-sidebar"><h3 class="toc-title">Contents</h3> <div class="sidebar-toc-wrapper toc-div-class"> <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E9%81%93%E5%88%86%E9%85%8D%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text"> 信道分配问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%BF%A1%E9%81%93%E5%88%86%E9%85%8D%E7%9A%84%E5%81%87%E8%AE%BE"><span class="toc-number">1.1.</span> <span class="toc-text"> 动态信道分配的假设</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.</span> <span class="toc-text"> 多访问协议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#aloha"><span class="toc-number">2.1.</span> <span class="toc-text"> ALOHA</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%AFaloha"><span class="toc-number">2.1.1.</span> <span class="toc-text"> 纯ALOHA</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%A7%BDaloha"><span class="toc-number">2.1.2.</span> <span class="toc-text"> 分槽ALOHA</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#csma"><span class="toc-number">2.2.</span> <span class="toc-text"> CSMA</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E5%86%B2%E7%AA%81%E6%A3%80%E6%B5%8B%E7%9A%84csma"><span class="toc-number">2.2.1.</span> <span class="toc-text"> 带冲突检测的CSMA</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E5%86%B2%E7%AA%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.3.</span> <span class="toc-text"> 无冲突协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E5%9B%BE%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.3.1.</span> <span class="toc-text"> 位图协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A4%E7%89%8C%E4%BC%A0%E9%80%92"><span class="toc-number">2.3.2.</span> <span class="toc-text"> 令牌传递</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%80%92%E8%AE%A1%E6%95%B0"><span class="toc-number">2.3.3.</span> <span class="toc-text"> 二进制倒计数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%89%E9%99%90%E7%AB%9E%E4%BA%89%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.4.</span> <span class="toc-text"> 有限竞争协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E9%80%82%E5%BA%94%E6%A0%91%E9%81%8D%E5%8E%86%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.4.1.</span> <span class="toc-text"> 自适应树遍历协议</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.5.</span> <span class="toc-text"> 无线局域网协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E7%BB%88%E7%AB%AF"><span class="toc-number">2.5.1.</span> <span class="toc-text"> 隐藏终端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%B4%E9%9C%B2%E7%BB%88%E7%AB%AF"><span class="toc-number">2.5.2.</span> <span class="toc-text"> 暴露终端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%B2%E7%AA%81%E9%81%BF%E5%85%8D%E5%A4%9A%E8%B7%AF%E8%AE%BF%E9%97%AEmaca"><span class="toc-number">2.5.3.</span> <span class="toc-text"> 冲突避免多路访问（MACA）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.</span> <span class="toc-text"> 以太网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%8F%E5%85%B8%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.1.</span> <span class="toc-text"> 经典以太网</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#beb"><span class="toc-number">3.1.1.</span> <span class="toc-text"> BEB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%92%AD%E7%BB%84%E6%92%AD%E5%A4%9A%E6%92%AD"><span class="toc-number">3.1.2.</span> <span class="toc-text"> 单播&#x2F;组播&#x2F;多播</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%A7%E8%83%BD"><span class="toc-number">3.1.3.</span> <span class="toc-text"> 性能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%BC%8F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.2.</span> <span class="toc-text"> 交换式以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.3.</span> <span class="toc-text"> 快速以太网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%83%E5%85%8610%E5%8D%83%E5%85%86%E4%BB%A5%E5%A4%AA%E7%BD%91"><span class="toc-number">3.4.</span> <span class="toc-text"> 千兆&#x2F;10千兆以太网</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">4.</span> <span class="toc-text"> 无线局域网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#80211%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%92%8C%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">4.1.</span> <span class="toc-text"> 802.11体系结构和协议栈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#80211%E7%89%A9%E7%90%86%E5%B1%82"><span class="toc-number">4.2.</span> <span class="toc-text"> 802.11物理层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#80211mac%E5%AD%90%E5%B1%82"><span class="toc-number">4.3.</span> <span class="toc-text"> 802.11MAC子层</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#80211%E5%B8%A7%E7%BB%93%E6%9E%84"><span class="toc-number">4.4.</span> <span class="toc-text"> 802.11帧结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E4%BA%A4%E6%8D%A2"><span class="toc-number">5.</span> <span class="toc-text"> 数据链路层交换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E7%BD%91%E6%A1%A5"><span class="toc-number">5.1.</span> <span class="toc-text"> 学习网桥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E6%A0%91%E7%BD%91%E6%A1%A5"><span class="toc-number">5.2.</span> <span class="toc-text"> 生成树网桥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%B1%80%E5%9F%9F%E7%BD%91"><span class="toc-number">5.3.</span> <span class="toc-text"> 虚拟局域网</span></a></li></ol></li></ol> </div> </div> <div class="hidden sidebar-common-sidebar"><div class="sidebar-author"> <img data-src="/avatar/avatar.webp" data-sizes="auto" alt="D-Sketon" class="lazyload"> <div class="sidebar-author-name">D-Sketon</div> <div class="sidebar-description">D-Sketon&#39;s blog</div> </div> <div class="sidebar-state"> <div class="sidebar-state-article"> <div>Post</div> <div class="sidebar-state-number">74</div> </div> <div class="sidebar-state-category"> <div>Category</div> <div class="sidebar-state-number">10</div> </div> <div class="sidebar-state-tag"> <div>Tag</div> <div class="sidebar-state-number">20</div> </div> </div> <div class="sidebar-social"> <div class="icon-github sidebar-social-icon"> <a href="https://github.com/D-Sketon" itemprop="url" target="_blank" aria-label="github" rel="nofollow noopener noreferrer"></a> </div> <div class="icon-bilibili sidebar-social-icon"> <a href="https://space.bilibili.com/20339857" itemprop="url" target="_blank" aria-label="bilibili" rel="nofollow noopener noreferrer"></a> </div> </div> <div class="sidebar-menu"> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/en/" aria-label="Home"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">Home</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/en/archives" aria-label="Archives"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">Archives</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/en/about" aria-label="About"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">About</div> </div> <div class="sidebar-menu-link-wrap"> <a class="sidebar-menu-link-dummy" href="/en/friend" aria-label="Friend"></a> <div class="icon rotate sidebar-menu-icon"> &#xe62b; </div> <div class="sidebar-menu-link">Friend</div> </div> </div> </div> </div> <div class="sidebar-btn-wrapper"> <div class="current sidebar-toc-btn"></div> <div class="sidebar-common-btn"></div> </div> </nav> </div> <div class="site-search"> <div class="popup reimu-popup"> <div class="reimu-search"> <div class="reimu-search-input-icon"></div> <div id="reimu-search-input"></div> <div class="popup-btn-close"></div> </div> <div class="reimu-results"> <div id="reimu-stats"></div> <div id="reimu-hits"></div> <div id="reimu-pagination" class="reimu-pagination"></div> </div> <img class="reimu-bg" src="/images/reimu.png"> </div> </div> <script src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js" integrity="sha384-3gT&#x2F;vsepWkfz&#x2F;ff7PpWNUeMzeWoH3cDhm&#x2F;A8jM7ouoAK0&#x2F;fP&#x2F;9bcHHR5kHq2nf+e" crossorigin></script> <script src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js" integrity="sha384-J08i8An&#x2F;QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin></script> <script src="/js/script.js"></script> <script src="/js/aos.js"></script> <script>var aosInit=()=>{AOS.init({duration:1e3,easing:'ease',once:!0,offset:50})};'loading'===document.readyState?document.addEventListener('DOMContentLoaded',aosInit):aosInit();</script> <script src="/js/pjax_script.js" data-pjax></script> <script>var ALGOLIA_CONFIG={logo:'/images/algolia_logo.svg',algolia:{applicationID:'AIE5T9AKYQ',apiKey:'2b855b06a058dd80bc84972874e020aa',indexName:'reimu_new_algoliasearch',hits:{per_page:parseInt('10')},labels:{input_placeholder:'Search.....',hits_empty:'No results found for 「${query}」',hits_stats:'Found ${hits} results (in ${time} ms)'}}};</script> <script src="https://npm.webcache.cn/algoliasearch@4.17.1/dist/algoliasearch-lite.umd.js" integrity="sha384-xvLS0jfKuoREs7pqkRI&#x2F;OI8GcqohO5S+jQz7ZBtQXnsXmD+9jDOOY4cL6dCPzlrk" crossorigin defer></script> <script src="https://npm.webcache.cn/@reimujs/instantsearch.js@4.57.0-beta.1/dist/instantsearch.production.min.js" integrity="sha384-aagKMe8nkqaP2DYQc8kkYOL5l+M5Q2WH&#x2F;Uhr4teOh0Ybp0RZj0kUSDm45qPikMjK" crossorigin defer></script> <script src="/js/algolia_search.js" defer></script> <script src="https://npm.webcache.cn/mouse-firework@0.1.1/dist/index.umd.js" integrity="sha384-8LyaidD9GPxQQgLJO&#x2F;WRw&#x2F;O2h3BoNq&#x2F;ApI&#x2F;ecpvM6RsrCz2qP2ppBXUKihP4V&#x2F;2d" crossorigin></script> <script>window.matchMedia('(max-width: 768px)').matches||window.firework&&window.firework(JSON.parse('{"excludeElements":["a","button"],"particles":[{"shape":"circle","move":["emit"],"easing":"easeOutExpo","colors":["var(--red-1)","var(--red-2)","var(--red-3)","var(--red-4)"],"number":20,"duration":[1200,1800],"shapeOptions":{"radius":[16,32],"alpha":[0.3,0.5]}},{"shape":"circle","move":["diffuse"],"easing":"easeOutExpo","colors":["var(--red-0)"],"number":1,"duration":[1200,1800],"shapeOptions":{"radius":20,"alpha":[0.2,0.5],"lineWidth":6}}]}'));</script> <script src="https://npm.webcache.cn/theme-shokax-pjax@0.0.3/dist/index.umd.js" integrity="sha384-xneY1WY8hOfUzswrE4CrYq35N4BdVcxqxwHPr9zawE&#x2F;jMSCxD+jAPU55x&#x2F;jj3wlf" crossorigin></script> <script src="/js/pjax.js"></script> <div id="lazy-script"> <div> <script data-pjax>window.REIMU_POST={author:'D-Sketon',title:'计算机网络-介质访问控制子层 学习笔记',url:'https://d-sketon.github.io/20230128/mac-layer/',excerpt:'计算机网络-介质访问控制子层 学习笔记',description:'',stripContent:' 负责确定多路访问信道下一个使用者 数据链路层的一个重要部分，特别是对于局域网   信道分配问题  用于来自N个用户的固定通道和流量  使用FDM、TDM、CDMA等划分带宽 这是一种静态分配，例如调频收音机 这种静态分配对于突发流量的性能很差 分配给用户的资源有时会被闲置   动态分配在用户需要时为其提供通道  对于N个用户，效率可能是N倍     动态信道分配的假设  流量独立 单信道 冲突可观察 时间连续或分槽 载波侦听或不听   多访问协议  ALOHA  由夏威夷大学的Norm Abr',date:'Sat Jan 28 2023 12:21:53 GMT+0800',updated:'Sun Feb 02 2025 11:36:59 GMT+0800',cover:'/images/banner.webp'};</script> <script src="/js/insert_highlight.js" data-pjax></script> <script src="https://npm.webcache.cn/@zumer/snapdom@1.9.14/dist/snapdom.min.js" integrity="sha384-OEQ+fJp&#x2F;Mvi2uzBREXybtxryJvLytWapuHu4EE6LPwTKUwATYcc55tPPcZTzVcmx" crossorigin defer data-pjax></script> <script src="https://npm.webcache.cn/qrcode@1.5.1/build/qrcode.js" integrity="sha384-VT1EeewTCEXgndcPMQ0PzV+uVFYjxFIjmAA7s5gcMX9t4Dt5TD+OVQIn7NJWIXn7" crossorigin defer data-pjax></script> <script type="module" data-pjax>let PhotoSwipeLightbox=(await safeImport('https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe-lightbox.esm.min.js','sha384-DiL6M/gG+wmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF/N6lrZi/')).default,initPswp=(gallery,children)=>{0<_$$(gallery+' '+children).length&&new PhotoSwipeLightbox({gallery:gallery,children:children,pswpModule:()=>safeImport('https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.esm.min.js','sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8+oTJ7m3DfYEWX1fu1scuS4+s')}).init()},pswp=()=>{initPswp('.article-entry','a.article-gallery-item'),initPswp('.article-gallery','a.article-gallery-item'),window.lightboxStatus='done',window.removeEventListener('lightbox:ready',pswp)};'ready'===window.lightboxStatus?pswp():window.addEventListener('lightbox:ready',pswp);</script> <script data-pjax>var savedCommentType,configDefault,loadScript=(src,integrity)=>{var script=document.createElement('script');return script.src=src,integrity&&(script.integrity=integrity),script.crossOrigin='anonymous',script},commentConfigKeys=['waline'],commentConfig={waline:{enable:!0,load:async()=>{var container=document.querySelector('.waline-comment');container&&(container.style.display='block',container=(await safeImport('https://npm.webcache.cn/@waline/client@2.15.8/dist/waline.mjs','sha384-9sbqJjrfGjbkI6/PI4nU/MvBfEmkkPC4YK9I4zBeMIf1CVCZdCMH/KinBEAZII/5')).init,window.walineInstance=container({el:'.waline-comment',serverURL:'https://reimu.d-sketon.top',lang:document.documentElement.lang||'en',locale:{},emoji:['https://unpkg.com/@waline/emojis@1.2.0/weibo','https://unpkg.com/@waline/emojis@1.2.0/alus','https://unpkg.com/@waline/emojis@1.2.0/bilibili','https://unpkg.com/@waline/emojis@1.2.0/qq','https://unpkg.com/@waline/emojis@1.2.0/tieba','https://unpkg.com/@waline/emojis@1.2.0/tw-emoji'],meta:['nick','mail','link'],requiredMeta:['nick','mail'],wordLimit:JSON.parse('0'),comment:!0,pageSize:JSON.parse('10'),dark:'html[data-theme="dark"]',pageview:JSON.parse('true')}))}}},defaultComment=(commentConfig.enable=commentConfigKeys.some(key=>commentConfig[key].enable),'');function loadComments(){if(commentConfig.enable){let loadedComments={valine:!1,waline:!1,twikoo:!1,gitalk:!1,giscus:!1},hideAllComments=()=>{document.querySelectorAll('.comment').forEach(container=>{container.style.display='none'})},loadCommentSystem=type=>{loadedComments[type]?document.querySelector(`.${type}-comment`).style.display='block':(commentConfig[type]?.load(),loadedComments[type]=!0)};var commentInit=()=>{var defaultSelectorItem;for(let item of document.querySelectorAll('.selector-item'))item.addEventListener('click',()=>{var commentType=item.getAttribute('data-selector');window.localStorage.setItem('commentType',commentType),(item=>{var commentItems=document.querySelectorAll('.selector-item');for(let i=0;i<commentItems.length;i++)commentItems[i].classList.remove('active');item.classList.add('active');item=item.getAttribute('data-selector');hideAllComments(),loadCommentSystem(item)})(item)});defaultComment&&(defaultSelectorItem=document.querySelector(`[data-selector="${defaultComment}"]`))&&(defaultSelectorItem.style.display='block',defaultSelectorItem.classList.add('active'),loadCommentSystem(defaultComment))};'loading'===document.readyState?document.addEventListener('DOMContentLoaded',commentInit):commentInit()}}commentConfig.enable&&(savedCommentType=localStorage.getItem('commentType'),(defaultComment=savedCommentType&&commentConfig[savedCommentType]?.enable?savedCommentType:defaultComment)||commentConfig[configDefault='waline']?.enable&&(defaultComment=configDefault),defaultComment=defaultComment||commentConfigKeys.find(sys=>commentConfig[sys].enable)||''),loadComments();</script> </div> </div> <script>console.log(String.raw`%c 
 ______     ______     __     __    __     __  __    
/\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
\ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
 \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
  \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                  
`,'color: #ff5252;'),console.log('%c Theme.Reimu v1.10.3 %c https://github.com/D-Sketon/hexo-theme-reimu ','color: white; background: #ff5252; padding:5px 0;','padding:4px;border:1px solid #ff5252;');</script> <script src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js" integrity="sha384-0M75wtSkhjIInv4coYlaJU83+OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id+S" crossorigin async></script> <script>'serviceWorker'in navigator&&navigator.serviceWorker.getRegistrations().then(registrations=>{for(var registration of registrations)registration.unregister()});</script> <script src="https://npm.webcache.cn/aplayer@1.10.1/dist/APlayer.min.js" integrity="sha384-gdGYZwHnfJM54evoZhpO0s6ZF5BQiybkiyW7VXr+h5UfruuRL&#x2F;aORyw+5+HZoU6e" crossorigin></script> <script>var meting_api='https://api.injahow.cn/meting/?server=:server&type=:type&id=:id&auth=:auth&r=:r';</script> <script>if(!window.matchMedia('(max-width: 768px)').matches){if(window.matchMedia('(max-width: 959px)').matches){let meting=_$('meting-js');if(meting){meting.setAttribute('fixed','true');let aside=meting.parentNode?.parentNode;'ASIDE'===aside?.tagName&&(meting.parentNode.removeChild(meting),document.body.appendChild(meting))}}let script=document.createElement('script');script.src='https://npm.webcache.cn/meting@2.0.1/dist/Meting.min.js',script.integrity='sha384-ASVlpKF80A22OXTK3tfEjZm1EL6uFMKIC4p8+0maanw1S/IyB+Y4JG+ZDU7GpKE8',script.crossOrigin='anonymous',document.body.appendChild(script)}</script> <script data-pjax>setTimeout(()=>{var e,echartsList=Object.keys(window).filter(e=>e.startsWith('eChartecharts')&&!e.endsWith('ResizeHandler')).map(e=>window[e]),updateEchartsDarkMode=e=>{if(echartsList?.length)for(var t of echartsList)t?.setTheme('dark'===e?'dark':'default')},_emode=(document.body.addEventListener('dark-theme-set',()=>updateEchartsDarkMode('dark')),document.body.addEventListener('light-theme-set',()=>updateEchartsDarkMode('default')),localStorage.getItem('dark_mode'));'auto'===_emode?(e=window.matchMedia('(prefers-color-scheme: dark)').matches,updateEchartsDarkMode(e?'dark':'default')):updateEchartsDarkMode('true'===_emode?'dark':'default')},2e3);</script> </body></html>