(()=>{var h=_$("#reimu-search-input");let s=_$("#reimu-hits"),c=_$("#reimu-pagination"),n=1;function d(e,i,a){s.innerHTML="",i=(i-1)*a,e.slice(i,i+a).forEach(r=>{s.insertAdjacentHTML("beforeend",`<a href="${r.url}" class="reimu-hit-item-link">${r.title}</a>`)})}h.insertAdjacentHTML("beforeend",'<form id="search-form"><input type="text" id="search-text"></form>'),fetch("/search.json").then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok "+e.statusText)}).then(e=>{_$("#search-form").off("submit").on("submit",i=>{i.preventDefault();let a=_$("#search-text").value;if(s.innerHTML="",c.innerHTML="",a){let l=e.filter(t=>t.title&&t.title.toLowerCase().includes(a.toLowerCase())||t.content&&t.content.toLowerCase().includes(a.toLowerCase()));var r=Math.ceil(l.length/10);c.insertAdjacentHTML("beforeend",'<ul class="ais-Pagination-list pagination">');for(let t=1;t<=r;t++){var o=document.createElement("li");o.className="ais-Pagination-item pagination-item ais-Pagination-item--page",o.innerHTML=`<a class="ais-Pagination-link page-number" aria-label="Page ${t}" href="#">${t}</a>`,t===n&&o.classList.add("ais-Pagination-item--selected","current"),c.querySelector("ul").appendChild(o)}_$$(".page-number").forEach(t=>{t.off("click").on("click",m=>{m.preventDefault(),n=t.innerText,_$$(".ais-Pagination-item").forEach(u=>{u.classList.remove("ais-Pagination-item--selected","current")}),t.parentNode.classList.add("ais-Pagination-item--selected","current"),d(l,n,10)})}),d(l,n,10)}})}).catch(e=>{console.error("There has been a problem with your fetch operation:",e)}),_$(".popup-trigger").off("click").on("click",e=>{e.stopPropagation(),e=window.innerWidth-document.documentElement.offsetWidth,_$("#container").style.marginRight=e+"px",_$("#header-nav").style.marginRight=e+"px",_$(".popup").classList.add("show"),_$("#mask").classList.remove("hide"),document.body.style.overflow="hidden",_$("#search-text").focus()}),_$(".popup-btn-close").off("click").on("click",()=>{_$(".popup").classList.remove("show"),_$("#mask").classList.add("hide"),_$("#container").style.marginRight="",_$("#header-nav").style.marginRight="",document.body.style.overflow=""})})();
